
<!DOCTYPE html>
<html lang="en">
<head>
  
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Getting started with rdf4j | The Eclipse Foundation</title>
<meta property="og:title" content="Getting started with rdf4j | The Eclipse Foundation" />
<meta name="twitter:title" content="Getting started with rdf4j | The Eclipse Foundation" />
<meta name="description" content="Getting started with rdf4j Getting started with RDF is not hard! In this tutorial, we go through the basics of what RDF is and how you can use it, and we show how you can use the Eclipse rdf4j framework to create, process, store, and query RDF data. We assume that you know a little about programming in Java, but no prior knowledge on RDF is assumed.
TIP: The code examples in this tutorial are available for download from the examples directory in the rdf4j-doc GitHub repository.">
<meta property="og:description" content="Getting started with rdf4j Getting started with RDF is not hard! In this tutorial, we go through the basics of what RDF is and how you can use it, and we show how you can use the Eclipse rdf4j framework to create, process, store, and query RDF data. We assume that you know a little about programming in Java, but no prior knowledge on RDF is assumed.
TIP: The code examples in this tutorial are available for download from the examples directory in the rdf4j-doc GitHub repository.">
<meta name="twitter:description" content="Getting started with rdf4j Getting started with RDF is not hard! In this tutorial, we go through the basics of what RDF is and how you can use it, and we show how you can use the Eclipse rdf4j â€¦">
<meta name="author" content="Christopher Guindon"/>
<link href='https://rdf4j.eclipse.org/images/favicon.png' rel='icon' type='image/x-icon'/>
<meta property="og:image" content="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" />
<meta name="twitter:image" content="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@EclipseFdn" />
<meta name="twitter:creator" content="@EclipseFdn" />
<meta property="og:url" content="https://rdf4j.eclipse.org/documentation/getting-started/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Eclipse rdf4j" />
<meta name="keywords" content="hugo, solstice, eclipse foundatiou">


<meta name="generator" content="Hugo 0.40.1" />
<link rel="canonical" href="https://rdf4j.eclipse.org/documentation/getting-started/" />
<link rel="alternate" href="https://rdf4j.eclipse.org/index.xml" type="application/rss+xml" title="Eclipse rdf4j">

<link rel="stylesheet" href="https://eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/quicksilver.min.css">
<link rel="stylesheet" href="/css/rdf4j.css">


  
<link href="//fonts.googleapis.com/css?family=Libre+Franklin:400,700,300,600,100" rel="stylesheet" type="text/css"/>

  
</head>
<body>
  
<a class="sr-only" href="#content">Skip to main content</a>
<header class="header-wrapper" id="header-wrapper">
  

<div class="clearfix toolbar-container-wrapper">
  <div class="container">
    <div class="text-right toolbar-row row hidden-print">
      <div class="col-md-24 row-toolbar-col">
        <ul class="list-inline">
          <li><a href="https://accounts.eclipse.org/user/edit" class="" data-tab-destination="tab-profile"><i class="fa fa-edit fa-fw"></i> Edit my account</a></li>
          <li><a class="toolbar-link toolbar-manage-cookies dropdown-toggle"><i class="fa fa-wrench"></i> Manage Cookies</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row" id="header-row">
    <div class="col-sm-5 col-md-4" id="header-left">
      <div class="wrapper-logo-default">
          <a title="Eclipse rdf4j" href="https://rdf4j.eclipse.org/">
            <img width="140" class="logo-eclipse-default img-responsive hidden-xs" src="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" alt="Eclipse rdf4j" />
          </a>
        
      </div>
    </div>
    
    <div class="col-sm-19 col-md-20 reset margin-top-10" id="main-menu-wrapper">
    
      <div class="navbar yamm" id="main-menu">
        <div class="navbar-collapse collapse reset float-right" id="navbar-main-menu">
          <ul class="nav navbar-nav">
            



<li>
  <a class="" href="/news/">
  
  News
  </a>
  
</li>


<li class="dropdown">
  <a href="#" data-toggle="dropdown" class="dropdown-toggle">
    
    
    <span>About</span>
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    
    <li><a href="/about/">Eclipse rdf4j</a> </li>
    
    <li><a href="/databases/">Rdf4j databases</a> </li>
    
    <li><a href="/related/">Related projects</a> </li>
    
  </ul>
  
</li>


<li>
  <a class="" href="/documentation/">
  
  Documentation
  </a>
  
</li>


<li>
  <a class="" href="/download/">
  
  Download
  </a>
  
</li>


<li>
  <a class="" href="/support/">
  
  Support
  </a>
  
</li>





          </ul>
        </div>
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-main-menu">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <div class="wrapper-logo-mobile">
            
              <a class="navbar-brand visible-xs" title="Eclipse rdf4j" href="https://rdf4j.eclipse.org/">
                <img width="140" class="logo-eclipse-default-mobile img-responsive" src="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" alt="Eclipse rdf4j" />
              </a>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  


</header>

  
<section class="default-breadcrumbs hidden-print" id="breadcrumb">
  <div class="container">
  <h3 class="sr-only">Breadcrumbs</h3>
  <div class="row">
    <div class="col-sm-24">
      <ol class="breadcrumb">
        
      
      
      
      
      
      <li>
        <a href="https://rdf4j.eclipse.org/">Eclipse rdf4j</a>
      </li>
      
      
      <li>
        <a href="https://rdf4j.eclipse.org/documentation/">Documentation</a>
      </li>
      
      
      <li class="active">
        <a href="https://rdf4j.eclipse.org/documentation/getting-started/">Getting started with rdf4j</a>
      </li>
      
      </ol>
      
    </div>
  </div>
</section>

  
<main>
  <div class="container">
    
    <div class="row">
      <div class="col-md-18 padding-bottom-30">
        
        
        

<h1 id="getting-started-with-rdf4j">Getting started with rdf4j</h1>

<p>Getting started with RDF is not hard! In this tutorial, we go through the basics of what RDF is and how you can use it, and we show how you can use the Eclipse rdf4j framework to create, process, store, and query RDF data. We assume that you know a little about programming in Java, but no prior knowledge on RDF is assumed.</p>

<p>TIP: The code examples in this tutorial are available for download from the <a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples" target="_blank">examples directory in the rdf4j-doc GitHub repository</a>. We encourage you to download these examples and play around with them. The easiest way to do this is to download the GitHub repository in your favorite Java IDE as an Apache Maven project.</p>

<h2 id="introducing-rdf">Introducing RDF</h2>

<p>The <a href="[World Wide Web Consortium (W3C)](https://www.w3.org/TR/rdf11-primer/) is a standard (or more accurately, a" title="recommendation" target="_blank">Resource Description Framework (RDF)</a> formulated by the )(<a href="https://www.w3.org/" target="_blank">https://www.w3.org/</a>). The purpose of RDF is to provide a framework for expressing information about resources in a machine-processable, interoperable fashion.</p>

<p>A <em>resource</em> can be anything that we can stick an identifier on: a web page, an image, but also more abstract/real-world things like you, me, the concept of &ldquo;world peace&rdquo;, the number 42, and that library book you never returned.</p>

<p>RDF is intended for modeling information that needs to processed by applications, rather than just being shown to people.</p>

<p>In this tutorial, we will be modeling information about artists . Let&rsquo;s start with a simple fact: &ldquo;Picasso&rsquo;s first name is Pablo&rdquo;. In RDF, this could be expressed as follows:</p>

<p><img src="images/rdf-graph-1.png" alt="Example 1" /></p>

<p>So what exactly are we looking at here? Well, we have a <em>resource</em> &ldquo;Picasso&rdquo;, denoted by an IRI (Internationalized <em>Resource Identifier</em>): <code>http://example.org/Picasso</code>. In RDF, resources have <em>properties</em>. Here we are using the <code>foaf:firstName</code> property to denote the relation between the resource &ldquo;Picasso&rdquo; and the value &ldquo;Pablo&rdquo;. <code>foaf:firstName</code> is also an IRI, though to make things easier to read we use an abbreviated syntax, called <em>prefixed names</em> (more about this later). Finally, the property value, &ldquo;Pablo&rdquo;, is a <em>literal</em> value: it is not represented using a resource identifier, but simply as a string of characters.</p>

<p>NOTE: the <code>foaf:firstName</code> property is part of the FOAF (Friend-of-a-Friend) vocabulary. This is an example of reusing an existing vocabuary to describe our own data. After all, if someone else already defined a property for describing people&rsquo;s first names, why not use it? More about this later.</p>

<p>As you may have noticed, we have depicted our fact about Picasso as a simple <em>graph</em>: two nodes, connected by an edge. It is very helpful to think about RDF models as graphs, and a lot of the tools we will be using to create and query RDF data make a lot more sense if you do.</p>

<p>In RDF, each fact is called a <em>statement</em>. Each statement consists of three parts (for this reason, it is also often called a <em>triple</em>):</p>

<ul>
<li>the <em>subject</em> is the starting node of the statement, representing the resource that the fact is &ldquo;about&rdquo;;</li>
<li>the <em>predicate</em> is the property that denotes the edge between two nodes;</li>
<li>the <em>object</em> is the end node of the statement, representing the resource or literal that is the <em>property value</em>.</li>
</ul>

<p>Let&rsquo;s expand our example slightly: we don&rsquo;t just have a single statement about Picasso, we know another fact as well: &ldquo;Picasso is an artist&rdquo;. We can extend our RDF model as follows:</p>

<p><img src="images/rdf-graph-2.png" alt="Image" /></p>

<p>Notice how the second statement was added to our graph depiction by simply adding a second edge to an already existing node , labeled with the <code>rdf:type</code> property, and the value <code>ex:Artist</code>. As you continue to add new facts to your data model, nodes and edges continue to be added to the graph.</p>

<h3 id="iris-namespaces-and-prefixed-names">IRIs, namespaces, and prefixed names</h3>

<p>IRIs are at the core of what makes RDF powerful. They provide a mechanism that allows global identification of any resource: no matter who authors a dataset or where that data is physically stored, if that data shares an identical IRI with another dataset you know that both datasets are talking about the same thing.</p>

<p>In many RDF data sets, you will see IRIs that start with &lsquo;http://&hellip;&lsquo;. This does not necessarily mean that you can open this link in your browser and get anything meaningful, though. Quite often, IRIs are merely used as unique identifiers, and not as actual addresses. Some RDF sources <em>do</em> make sure that their IRIs can be looked up on the Web, and that you actually get back data (in RDF) that describes the resource identified by the IRI. This is known as a <a href="http://linkeddata.org/" target="_blank">Linked Data</a> architecture. The ins and outs of Linked Data are beyond the scope of this tutorial, but it&rsquo;s worth exploring once you understand the basics of RDF.</p>

<p>You will often see IRIs in abbreviated form whenever you encounter examples of RDF data: <code>&lt;prefix&gt;:&lt;name&gt;</code> This abbreviated form, known as &ldquo;prefixed names&rdquo;, has no impact on the meaning of the data, but it makes it easier for people to read the data.</p>

<p>Prefixed names work by defining a <em>prefix</em> that is a replacement for a <em>namespace</em>. A namespace is the first part of an IRI that is shared by several resources. For example, the IRIs <code>http://example.org/Picasso</code>, <code>http://example.org/Rodin</code>, and <code>http://example.org/Rembrandt</code> all share the the namespace <code>http://example.org/</code>. By defining a new prefix <code>ex</code> as the abbreviation for this namespace, we can use the string <code>ex:Picasso</code> instead of its full IRI.</p>

<h3 id="creating-and-reusing-iris">Creating and reusing IRIs</h3>

<p>In the running example for this tutorial, we use a namespace prefix <code>http://example.org/</code> that we indiscriminately use for various resource and property IRIs we want to use. In a real world scenario, that is not very practical: we don&rsquo;t own the domain &lsquo;example.org&rsquo;, for one thing, and moreover it is not very descriptive of what our resources actually are about.</p>

<p>So, how <em>do</em> you pick good IRIs for your resources and properties? There&rsquo;s a lot to be said about this topic, some of it beyond the scope of this tutorial. You should at least keep the following in mind:</p>

<ol>
<li>use a domain name that <em>you</em> own for your own resources. Don&rsquo;t reuse other people&rsquo;s domain, and don&rsquo;t add new resources or properties to existing vocabularies.</li>
<li>try and <em>reuse</em> existing vocabularies. Instead of creating new resources and relations to describe all your data, see if somebody else has already published a collection of IRIs (known as a <em>vocabulary</em>, or sometimes an <em>ontology</em>) that describes the same kind of things you want to describe. Then use <em>their</em> IRIs as part of your own data.</li>
</ol>

<p>There are several major benefits to reusing existing vocabulary:</p>

<ul>
<li>you don&rsquo;t have to reinvent the wheel;</li>
<li>when the time comes to share your data with a third party, chances are that they <em>also</em> reuse
the existing vocabulary, making data integration easier.</li>
</ul>

<p>Of course we can&rsquo;t list every possible reusable RDF vocabulary here, but there are several very generic RDF vocabularies that get reused very often:</p>

<ul>
<li><a href="https://www.w3.org/TR/rdf-schema/" target="_blank">RDF Schema (RDFS)</a> - the RDF Schema vocabulary provides some basic properties and resources that you can use to create class hierarchies, define your own properties in more detail, and so on. One commonly used property from RDFS is <code>rdfs:label</code>, which is used to give a resource a human-readable name, as a string value.</li>
<li><a href="https://www.w3.org/TR/owl2-overview/" target="_blank">Web Ontology Language (OWL)</a> - the Web Ontology Language OWL provides an extensive and powerful (but also quite complex) set of resources and properties that can be used to model complex domain models, a.k.a. <em>ontologies</em>. It can be used to say things like &ldquo;this class of things here is exactly the same as that class over there&rdquo; or &ldquo;resources of type <code>BlueCar</code> must have a property <code>Color</code> with value &ldquo;Blue&rdquo;. Learning about OWL goes beyond the scope of this tutorial.</li>
<li><a href="https://www.w3.org/TR/skos-primer/" target="_blank">Simple Knowledge Organization System (SKOS)</a> provides a model for expressing the basic structure and content of concept schemes such as thesauri, classification schemes, subject heading lists, taxonomies, folksonomies, and other similar types of controlled vocabulary. It has properties such as <code>skos:broader</code>, <code>skos:narrower</code> (to indicate that one term is a broader/narrower term than some other term), <code>skos:prefLabel</code>, <code>skos:altLabel</code> (to give preferred and alternative names for concepts), and more.</li>
<li><a href="http://xmlns.com/foaf/spec/" target="_blank">Friend-Of-A-Friend (FOAF)</a> - the FOAF vocabulary provides resources and properties to model people and their social networks. You can use it to say that some resource describes a <code>foaf:Person</code>, and you can use properties such as <code>foaf:firstName</code>, <code>foaf:surname</code>, <code>foaf:mbox</code> to describe all sorts of data about that person.</li>
<li><a href="http://dublincore.org/documents/dces/" target="_blank">Dublin Core (DC) Elements</a> - the Dublin Core Metadata Initiative (DCMI) has a defined a vocabulary of 15 commonly used properties for describing resources from a library/digital archiving perspective. It includes properties such as <code>dc:creator</code> (to indicate the creator of a work), <code>dc:subject</code>, <code>dc:title</code>, and more.</li>
</ul>

<p>The flexibility of RDF makes it easy to mix and match models as you need them. You will, in practice, often see RDF data sets that have some &ldquo;home-grown&rdquo; IRIs, combined with properties and class names from a variety of different other vocabularies. It&rsquo;s not uncommon to see 3 or more different vocabularies all reused in the same dataset.</p>

<h2 id="using-rdf4j-to-create-rdf-models">Using rdf4j to create RDF models</h2>

<p>Enough background, let&rsquo;s get our hands dirty.</p>

<p>Eclipse rdf4j is a Java API for RDF: it allows you to create, parse, write, store, query and reason with RDF data in a highly scalable manner. So let&rsquo;s see two examples of how we can use rdf4j to create the above RDF model in Java.</p>

<h3 id="example-01-building-a-simple-model">Example 01: building a simple Model</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example01BuildModel.java">Example 01</a>
 shows how we can create the RDF model we introduced above using rdf4j:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// We use a ValueFactory to create the building blocks of our RDF statements: 
</span><span style="color:#998;font-style:italic">// IRIs, blank nodes and literals.
</span><span style="color:#998;font-style:italic"></span>ValueFactory vf <span style="color:#000;font-weight:bold">=</span> SimpleValueFactory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInstance</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// We want to reuse this namespace when creating several building blocks.
</span><span style="color:#998;font-style:italic"></span>String ex <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#998;font-style:italic">// Create IRIs for the resources we want to add.
</span><span style="color:#998;font-style:italic"></span>IRI picasso <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span>ex<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Picasso&#34;</span><span style="color:#000;font-weight:bold">);</span>
IRI artist <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span>ex<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Artist&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// Create a new, empty Model object.
</span><span style="color:#998;font-style:italic"></span>Model model <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> TreeModel<span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// add our first statement: Picasso is an Artist
</span><span style="color:#998;font-style:italic"></span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>picasso<span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> artist<span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// second statement: Picasso&#39;s first name is &#34;Pablo&#34;.
</span><span style="color:#998;font-style:italic"></span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>picasso<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Pablo&#34;</span><span style="color:#000;font-weight:bold">));</span></code></pre></td></tr></table>
</div>
</div>

<p>Let&rsquo;s take a closer look at this. Lines 1-10 are necessary preparation: we use a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/ValueFactory.html'>ValueFactory</a></code>
 to create resources , which we will later use to add facts to our model.</p>

<p>On line 13, we create a new, empty model. rdf4j comes with several <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html'>Model</a></code>
 implementations, the ones you will most commonly encounter are <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/TreeModel.html'>TreeModel</a></code>
 and <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/LinkedHashModel.html'>LinkedHashModel</a></code>
. The difference is in how they index data internally - which has a performance impact when working with very large models. For our purposes however, it doesn&rsquo;t really matter which implementation you use.</p>

<p>On lines 16 and 19, we add our two facts that we know about Picasso: that&rsquo;s he&rsquo;s an artist, and that his first name is &ldquo;Pablo&rdquo;.</p>

<p>In rdf4j, a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html'>Model</a></code>
 is simply an in-memory collection of RDF statements. We can add statements to an existing model, remove statements from it, and of course iterate over the model to do things with its contents. As an example, let&rsquo;s iterate over all statements in our Model using a <code>for-each</code> loop, and print them to the screen:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">statement:</span> model<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>statement<span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>When you run this, the output will look something like this:</p>

<pre><code>(http://example.org/Picasso, http://xmlns.com/foaf/0.1/firstName, &quot;Pablo&quot;^^&lt;http://www.w3.org/2001/XMLSchema#string&gt;) [null]
(http://example.org/Picasso, http://www.w3.org/1999/02/22-rdf-syntax-ns#type, http://example.org/art/Artist) [null]
</code></pre>

<p>Not very pretty perhaps, but at least you should be able to recognize the RDF statements that we originally added to our model. Each line is a single statement, with the subject, predicate, and object value in comma-separated form. The <code>[null]</code> behind each statement is a context identifier or named graph identifier, which you can safely ignore for now. The bit <code>^^&lt;http://www.w3.org/2001/XMLSchema#string&gt;</code> is a <em>datatype</em> that rdf4j assigned to the literal value we added (in this case, the datatype is simply string).</p>

<h3 id="example-02-using-the-modelbuilder">Example 02: using the ModelBuilder</h3>

<p>The previous code example shows that you need to do a bit of preparation before actually adding anything to your model: defining common namespaces, creating a ValueFactory, creating IRIs, etc. As a convenience, rdf4j provides a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/ModelBuilder.html'>ModelBuilder</a></code>
 that simplifies things.</p>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example02BuildModel.java">Example 02</a>
 shows how we can create the exact same model using a ModelBuilder:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ModelBuilder builder <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ModelBuilder<span style="color:#000;font-weight:bold">();</span>
Model model <span style="color:#000;font-weight:bold">=</span> builder
                  <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">)</span>
		  <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:Picasso&#34;</span><span style="color:#000;font-weight:bold">)</span>
		       <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;ex:Artist&#34;</span><span style="color:#000;font-weight:bold">)</span>
		       <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Pablo&#34;</span><span style="color:#000;font-weight:bold">)</span>
		  <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span></code></pre></td></tr></table>
</div>
</div>

<p>The above bit of code creates the exact same model that we saw in the previous example, but with far less prep code. ModelBuilder accepts IRIs and prefixed names supplied as simple Java strings. On line 3 we define a namespace prefix we want to use, and then on lines 4-6 we use simple prefixed name strings, which the ModelBuilder internally maps to full IRIs.</p>

<h2 id="literal-values-datatypes-and-language-tags">Literal values: datatypes and language tags</h2>

<p>We have sofar seen literal values that were just simple strings. However, in RDF, every literal has an associated <em>datatype</em> that determines what kind of value the literal is: a string, an integer number, a date, and so on. In addition, a String literal can optionally have a <em>language tag</em> that indicates the language the string is in.</p>

<p>Datatypes are associated with a literal by means of a datatype IRI, usually for a datatype defined in <a href="http://www.w3.org/2001/XMLSchema" target="_blank">XML Schema</a>. Examples are <code>http://www.w3.org/2001/XMLSchema#string</code>, <code>http://www.w3.org/2001/XMLSchema#integer</code>, <code>http://www.w3.org/2001/XMLSchema#dateTime</code> (commonly abbreviated as <code>xsd:string</code>, <code>xsd:integer</code>, <code>xsd:dateTime</code>, respectively). A longer (though not exhaustive) list of supported data types is available in the <a href="https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#section-Datatypes" target="_blank">RDF 1.1 Concepts</a> specification.</p>

<p>Languages are associated with a string literal by means of a &ldquo;language tag&rdquo;, as identified by <a href="https://tools.ietf.org/html/bcp47" target="_blank">BCP 47</a>. Examples of language tags are &ldquo;en&rdquo; (English), &ldquo;fr&rdquo; (French), &ldquo;en-US&rdquo; (US English), etc.</p>

<p>We will demonstrate the use of language tags and data types by adding some additional data to our model. Specifically, we will add some information about a painting created by van Gogh, namely &ldquo;The Potato Eaters&rdquo;.</p>

<h3 id="example-03-adding-a-date-and-a-number">Example 03: adding a date and a number</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example03LiteralDatatypes.java">Example 03</a>
 shows how we can add the creation date (as an <code>xsd:dateTime</code>) and the number of people depicted in the painting (as an <code>xsd:integer</code>):</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  Model model <span style="color:#000;font-weight:bold">=</span> builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">)</span>
      <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:PotatoEaters&#34;</span><span style="color:#000;font-weight:bold">)</span>
          <span style="color:#998;font-style:italic">// this painting was created in April 1885
</span><span style="color:#998;font-style:italic"></span>          <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:creationDate&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> GregorianCalendar<span style="color:#000;font-weight:bold">(</span>1885<span style="color:#000;font-weight:bold">,</span> Calendar<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">APRIL</span><span style="color:#000;font-weight:bold">,</span> 1<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">getTime</span><span style="color:#000;font-weight:bold">())</span>
          <span style="color:#998;font-style:italic">// it depicts 5 people
</span><span style="color:#998;font-style:italic"></span>          <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:peopleDepicted&#34;</span><span style="color:#000;font-weight:bold">,</span> 5<span style="color:#000;font-weight:bold">)</span>
      <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span>

  <span style="color:#998;font-style:italic">// To see what&#39;s in our model, let&#39;s just print stuff to the screen
</span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">st:</span> model<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#998;font-style:italic">// we want to see the object values of each property
</span><span style="color:#998;font-style:italic"></span>      IRI property <span style="color:#000;font-weight:bold">=</span> st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPredicate</span><span style="color:#000;font-weight:bold">();</span>
      Value value <span style="color:#000;font-weight:bold">=</span> st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getObject</span><span style="color:#000;font-weight:bold">();</span>
      <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">instanceof</span> Literal<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
          Literal literal <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Literal<span style="color:#000;font-weight:bold">)</span>value<span style="color:#000;font-weight:bold">;</span>
          System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;datatype: &#34;</span> <span style="color:#000;font-weight:bold">+</span> literal<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getDatatype</span><span style="color:#000;font-weight:bold">());</span>
          
          <span style="color:#998;font-style:italic">// get the value of the literal directly as a Java primitive.
</span><span style="color:#998;font-style:italic"></span>          <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>property<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLocalName</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;peopleDepicted&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
              <span style="color:#458;font-weight:bold">int</span> peopleDepicted <span style="color:#000;font-weight:bold">=</span> literal<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">intValue</span><span style="color:#000;font-weight:bold">();</span>
              System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>peopleDepicted <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; people are depicted in this painting&#34;</span><span style="color:#000;font-weight:bold">);</span>
          <span style="color:#000;font-weight:bold">}</span>
          <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>property<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLocalName</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;creationDate&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
              XMLGregorianCalendar calendar <span style="color:#000;font-weight:bold">=</span> literal<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">calendarValue</span><span style="color:#000;font-weight:bold">();</span>
              Date date <span style="color:#000;font-weight:bold">=</span> calendar<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toGregorianCalendar</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getTime</span><span style="color:#000;font-weight:bold">();</span>
              System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;The painting was created on &#34;</span> <span style="color:#000;font-weight:bold">+</span> date<span style="color:#000;font-weight:bold">);</span>
          <span style="color:#000;font-weight:bold">}</span>
          
          <span style="color:#998;font-style:italic">// You can also just get the lexical value (a string) without 
</span><span style="color:#998;font-style:italic"></span>          <span style="color:#998;font-style:italic">// worrying about the datatype
</span><span style="color:#998;font-style:italic"></span>          System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Lexical value: &#39;&#34;</span> <span style="color:#000;font-weight:bold">+</span> literal<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLabel</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;&#39;&#34;</span><span style="color:#000;font-weight:bold">);</span>
      <span style="color:#000;font-weight:bold">}</span>
  <span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<h3 id="example-04-adding-an-artwork-s-title-in-dutch-and-english">Example 04: adding an artwork&rsquo;s title in Dutch and English</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example04LanguageTags.java">Example 04</a>
 shows how we can add the title of the painting in both Dutch and English, and how we can retrieve this information back from the model:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Model model <span style="color:#000;font-weight:bold">=</span> builder
    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">)</span>
    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:PotatoEaters&#34;</span><span style="color:#000;font-weight:bold">)</span>
	<span style="color:#998;font-style:italic">// In English, this painting is called &#34;The Potato Eaters&#34;
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>DC<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TITLE</span><span style="color:#000;font-weight:bold">,</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;The Potato Eaters&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;en&#34;</span><span style="color:#000;font-weight:bold">))</span>
	<span style="color:#998;font-style:italic">// In Dutch, it&#39;s called &#34;De Aardappeleters&#34;
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>DC<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TITLE</span><span style="color:#000;font-weight:bold">,</span>  vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;De Aardappeleters&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;nl&#34;</span><span style="color:#000;font-weight:bold">))</span>
    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// To see what&#39;s in our model, let&#39;s just print it to the screen
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">st:</span> model<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// we want to see the object values of each statement
</span><span style="color:#998;font-style:italic"></span>    Value value <span style="color:#000;font-weight:bold">=</span> st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getObject</span><span style="color:#000;font-weight:bold">();</span>
    <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">instanceof</span> Literal<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	Literal title <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Literal<span style="color:#000;font-weight:bold">)</span>value<span style="color:#000;font-weight:bold">;</span>
	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;language: &#34;</span> <span style="color:#000;font-weight:bold">+</span> title<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLanguage</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">orElse</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;unknown&#34;</span><span style="color:#000;font-weight:bold">));</span>
	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34; title: &#34;</span> <span style="color:#000;font-weight:bold">+</span> title<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLabel</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<h2 id="blank-nodes">Blank nodes</h2>

<p>Sometimes, we may want to model some facts without explicitly giving all resources involved in that fact an identifier. For example, consider the following sentence: &ldquo;Picasso has created a painting depicting cubes, and using a blue color scheme&rdquo;. There&rsquo;s several facts in this sentence:</p>

<ol>
<li>Picasso created some painting;</li>
<li>that painting depicts cubes;</li>
<li>that painting uses the color blue.</li>
</ol>

<p>All of the above may be true, but it doesn&rsquo;t involve identifying a specific painting. All we know is that there is <em>some</em> (unknown) painting for which all of this is true. We can express this in RDF using a <em>blank node</em>.</p>

<p>When looking at a graph depiction of the RDF, it becomes obvious why it is called a <em>blank</em> node:</p>

<p><img src="images/rdf-graph-3.png" alt="Image" /></p>

<p>Other possible uses for blank nodes are for modeling a collection of facts that are strongly tied together. For example, &ldquo;Picasso&rsquo;s home address is &lsquo;31 Art Gallery, Madrid, Spain&rsquo;&rdquo; could be modeled as follows:</p>

<p><img src="images/rdf-graph-4.png" alt="Image" /></p>

<p>WARNING: Blank nodes can be useful, but they can also complicate things. Because they can not be directly addressed (they have no identifier, after all, hence &ldquo;blank&rdquo;), you can only query them via their property values. And since they have no identifier, it&rsquo;s often hard to determine if two blank nodes are really the same resource, or two separate ones. A good rule of thumb is to only use blank nodes if it <em>really</em> conceptually makes no sense to give something its own global identifier.</p>

<h3 id="example-05-adding-blank-nodes-to-a-model">Example 05: adding blank nodes to a Model</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example05BlankNode.java">Example 05</a>
 shows how we can add the address of Picasso to our Model:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// To create a blank node for the address, we need a ValueFactory
</span><span style="color:#998;font-style:italic"></span>ValueFactory vf <span style="color:#000;font-weight:bold">=</span> SimpleValueFactory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInstance</span><span style="color:#000;font-weight:bold">();</span>
BNode address <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createBNode</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// First we do the same thing we did in example 02: create a new ModelBuilder,
</span><span style="color:#998;font-style:italic">// and add two statements about Picasso.
</span><span style="color:#998;font-style:italic"></span>ModelBuilder builder <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ModelBuilder<span style="color:#000;font-weight:bold">();</span>
builder
    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">)</span>
    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:Picasso&#34;</span><span style="color:#000;font-weight:bold">)</span>
	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;ex:Artist&#34;</span><span style="color:#000;font-weight:bold">)</span>
	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Pablo&#34;</span><span style="color:#000;font-weight:bold">)</span>
    <span style="color:#998;font-style:italic">// this is where it becomes new: we add the address by linking the blank 
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// node to picasso via the `ex:homeAddress` property, and then adding 
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// facts _about_ the address
</span><span style="color:#998;font-style:italic"></span>	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:homeAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> address<span style="color:#000;font-weight:bold">)</span> <span style="color:#998;font-style:italic">// link the blank node
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span>address<span style="color:#000;font-weight:bold">)</span>			    <span style="color:#998;font-style:italic">// switch the subject
</span><span style="color:#998;font-style:italic"></span>	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:street&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;31 Art Gallery&#34;</span><span style="color:#000;font-weight:bold">)</span>
	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:city&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Madrid&#34;</span><span style="color:#000;font-weight:bold">)</span>
	    <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:country&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Spain&#34;</span><span style="color:#000;font-weight:bold">);</span>

Model model <span style="color:#000;font-weight:bold">=</span> builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span></code></pre></td></tr></table>
</div>
</div>

<h2 id="reading-and-writing-rdf">Reading and Writing RDF</h2>

<p>In the previous sections we saw how to print the contents of a Model to the screen, However, this is of limited use: the format is not easy to read, and certainly not by any other tools that you may wish to share the information with.</p>

<p>Fortunately, rdf4j provides tools for reading and writing RDF models in several syntax formats, all of which are standardized, and therefore can be used to share data between applications. The most commonly used formats are RDF/XML, Turtle, and N-Triples.</p>

<h3 id="example-06-writing-to-rdf-xml">Example 06: Writing to RDF/XML</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example06WriteRdfXml.java">Example 06</a>
 shows how we can write our Model as RDF/XML, using the rdf4j <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/rio/Rio.html'>Rio</a></code>
 parser/writer tools:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">write</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">RDFXML</span><span style="color:#000;font-weight:bold">);</span></code></pre></div>

<p>The output will be similar to this:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#000080">&lt;rdf:RDF</span>
	<span style="color:#008080">xmlns:ex=</span><span style="color:#d14">&#34;http://example.org/&#34;</span>
	<span style="color:#008080">xmlns:xsd=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema#&#34;</span>
	<span style="color:#008080">xmlns:rdf=</span><span style="color:#d14">&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;</span><span style="color:#000080">&gt;</span>

<span style="color:#000080">&lt;rdf:Description</span> <span style="color:#008080">rdf:about=</span><span style="color:#d14">&#34;http://example.org/Picasso&#34;</span><span style="color:#000080">&gt;</span>
	<span style="color:#000080">&lt;rdf:type</span> <span style="color:#008080">rdf:resource=</span><span style="color:#d14">&#34;http://example.org/Artist&#34;</span><span style="color:#000080">/&gt;</span>
	<span style="color:#000080">&lt;firstName</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://xmlns.com/foaf/0.1/&#34;</span> <span style="color:#008080">rdf:datatype=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#000080">&gt;</span>Pablo<span style="color:#000080">&lt;/firstName&gt;</span>
	<span style="color:#000080">&lt;ex:homeAddress</span> <span style="color:#008080">rdf:nodeID=</span><span style="color:#d14">&#34;node1b4koa8edx1&#34;</span><span style="color:#000080">/&gt;</span>
<span style="color:#000080">&lt;/rdf:Description&gt;</span>

<span style="color:#000080">&lt;rdf:Description</span> <span style="color:#008080">rdf:nodeID=</span><span style="color:#d14">&#34;node1b4koa8edx1&#34;</span><span style="color:#000080">&gt;</span>
	<span style="color:#000080">&lt;ex:street</span> <span style="color:#008080">rdf:datatype=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#000080">&gt;</span>31 Art Gallery<span style="color:#000080">&lt;/ex:street&gt;</span>
	<span style="color:#000080">&lt;ex:city</span> <span style="color:#008080">rdf:datatype=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#000080">&gt;</span>Madrid<span style="color:#000080">&lt;/ex:city&gt;</span>
	<span style="color:#000080">&lt;ex:country</span> <span style="color:#008080">rdf:datatype=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#000080">&gt;</span>Spain<span style="color:#000080">&lt;/ex:country&gt;</span>
<span style="color:#000080">&lt;/rdf:Description&gt;</span>

<span style="color:#000080">&lt;/rdf:RDF&gt;</span></code></pre></div>

<p>The <code>Rio.write</code> method takes a <code>java.io.OutputStream</code> or a <code>java.io.Writer</code> as an argument, so if we wish to write to file instead of to the screen, we can simply use a <code>FileOutputStream</code> or a <code>FileWriter</code> and point it at the desired file location.</p>

<h3 id="example-07-writing-to-turtle-and-other-formats">Example 07: Writing to Turtle and other formats</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example05WriteTurtle.java">Example 07</a>
 shows how we can write our Model in the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/rio/RDFFormat.html#TURTLE'>Turtle</a></code>
 syntax format:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">write</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span><span style="color:#000;font-weight:bold">);</span></code></pre></div>

<p>To produce other syntax formats, simply vary the supplied RDFFormat. Try out a few different formats yourself, to get a feel for what they look like.</p>

<p>The output in Turtle format looks like this:</p>

<pre><code>@prefix ex: &lt;http://example.org/&gt; .

ex:Picasso a ex:Artist ;
        &lt;http://xmlns.com/foaf/0.1/firstName&gt; &quot;Pablo&quot; ;
        ex:homeAddress _:node1b4koq381x1 .

_:node1b4koq381x1 ex:street &quot;31 Art Gallery&quot; ;
        ex:city &quot;Madrid&quot; ;
        ex:country &quot;Spain&quot; .
</code></pre>

<p>If you compare this with the output of writing to RDF/XML, you will notice that the Turtle syntax format is a lot more compact, and also easier to read for a human. Let&rsquo;s quickly go through it:</p>

<p>On the first line, a namespaces prefix is defined. It is one we recognize: the <code>ex</code> namespace that we added to our RDF model earlier. Turtle syntax supports using prefixed names to make the format more compact, and easier to read.</p>

<p>Lines 3-5 show three RDF statements, all about <code>ex:Picasso</code>.
The first statement, on line 3, says that Picasso is of type Artist. In Turtle, <code>a</code> is a shortcut for the <code>rdf:type</code> property. Notice that the line ends with a <code>;</code>. This indicates that the <em>next</em> line in the file will be about the same subject.
Line 4 says that Picasso&rsquo;s first name is &ldquo;Pablo&rdquo;. Notice that here the full IRI is used for the property - this happens because we didn&rsquo;t set a namespace prefix for it when we created our model.</p>

<p>TIP: In Turtle syntax, a full IRI always starts with <code>&lt;</code> and ends with <code>&gt;</code>. This makes them easy to distinguish from prefixed names, and from blank node identifiers.</p>

<p>Line 5, finally, states that Picasso has a homeAddress, which is some blank node (a blank node identifier in Turtle syntax always starts with <code>_:</code>). Note that this line ends with a <code>.</code>, which indicates that we are done stating facts about the current subject.</p>

<p>Line 7 and further, finally, state facts about the blank node (the home address of Picasso): its street is &ldquo;31 Art Gallery&rdquo;, its city is &ldquo;Madrid&rdquo;, and its Country is &ldquo;Spain&rdquo;.</p>

<h3 id="example-08-reading-a-turtle-rdf-file">Example 08: Reading a Turtle RDF file</h3>

<p>Very similar to how we can write RDF models to files in various syntaxes, we can also use rdf4j Rio to <em>read</em> files to produce an RDF model.</p>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example08ReadTurtle.java">Example 08</a>
 shows how we can read a Turtle file and produce a <code>Model</code> object out of it:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String filename <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;example-data-artists.ttl&#34;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#998;font-style:italic">// read the file &#39;example-data-artists.ttl&#39; as an InputStream.
</span><span style="color:#998;font-style:italic"></span>InputStream input <span style="color:#000;font-weight:bold">=</span> Example06ReadTurtle<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getResourceAsStream</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/&#34;</span> <span style="color:#000;font-weight:bold">+</span> filename<span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// Rio also accepts a java.io.Reader as input for the parser.
</span><span style="color:#998;font-style:italic"></span>Model model <span style="color:#000;font-weight:bold">=</span> Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parse</span><span style="color:#000;font-weight:bold">(</span>input<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span><span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<h2 id="accessing-a-model">Accessing a Model</h2>

<p>Now that we know how to create, read, and save an RDF Models, it is time to look at how we can access the information in a Model.</p>

<p>We have already seen one simple way of accessing a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html'>Model</a></code>
: we can iterate over its contents using a <code>for-each</code> loop. The reason this works is that <code>Model</code> extends the Java Collection API, more particularly it is a <code>java.util.Set&lt;Statement&gt;</code>.</p>

<p>We have more sophisticated options at our disposal, however.</p>

<h3 id="example-09-filtering-on-a-specific-subject">Example 09: filtering on a specific subject</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example09Filter.java">Example 09</a>
 shows how we can use <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html#filter-org.eclipse.rdf4j.model.Resource-org.eclipse.rdf4j.model.IRI-org.eclipse.rdf4j.model.Value-org.eclipse.rdf4j.model.Resource...-'>Model.filter</a></code>
 to &ldquo;zoom in&rdquo; on a specific subject in our model. We&rsquo;re also using the opportunity to show how you can print out RDF statements in a slightly prettier way:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ValueFactory vf <span style="color:#000;font-weight:bold">=</span> SimpleValueFactory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInstance</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// We want to find all information about the artist `ex:VanGogh` in our model
</span><span style="color:#998;font-style:italic"></span>IRI vanGogh <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;http://example.org/VanGogh&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// By filtering on a specific subject we zoom in on the data that is about 
</span><span style="color:#998;font-style:italic">// that subject. The filter method takes a subject, predicate, object (and 
</span><span style="color:#998;font-style:italic">// optionally a named graph/context) argument. The more arguments we set to 
</span><span style="color:#998;font-style:italic">// a value, the more specific the filter becomes.
</span><span style="color:#998;font-style:italic"></span>Model aboutVanGogh <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>vanGogh<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// Iterate over the statements that are about Van Gogh
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">st:</span> aboutVanGogh<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// the subject is always `ex:VanGogh`, an IRI, so we can safely cast it
</span><span style="color:#998;font-style:italic"></span>	IRI subject <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>IRI<span style="color:#000;font-weight:bold">)</span>st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSubject</span><span style="color:#000;font-weight:bold">();</span>
	<span style="color:#998;font-style:italic">// the property predicate is always an IRI
</span><span style="color:#998;font-style:italic"></span>	IRI predicate <span style="color:#000;font-weight:bold">=</span> st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPredicate</span><span style="color:#000;font-weight:bold">();</span>

	<span style="color:#998;font-style:italic">// the property value could be an IRI, a BNode, or a Literal. In rdf4j,
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// Value is is the supertype of all possible kinds of RDF values.
</span><span style="color:#998;font-style:italic"></span>	Value object <span style="color:#000;font-weight:bold">=</span> st<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getObject</span><span style="color:#000;font-weight:bold">();</span>

	<span style="color:#998;font-style:italic">// let&#39;s print out the statement in a nice way. We ignore the namespaces 
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// and only print the local name of each IRI
</span><span style="color:#998;font-style:italic"></span>	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">print</span><span style="color:#000;font-weight:bold">(</span>subject<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLocalName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; &#34;</span> <span style="color:#000;font-weight:bold">+</span> predicate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLocalName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; &#34;</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>object <span style="color:#000;font-weight:bold">instanceof</span> Literal<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#998;font-style:italic">// It&#39;s a literal. print it out nicely, in quotes, and without any ugly
</span><span style="color:#998;font-style:italic"></span>		<span style="color:#998;font-style:italic">// datatype stuff
</span><span style="color:#998;font-style:italic"></span>		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;\&#34;&#34;</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#000;font-weight:bold">((</span>Literal<span style="color:#000;font-weight:bold">)</span>object<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">getLabel</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;\&#34;&#34;</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>object <span style="color:#000;font-weight:bold">instanceof</span>  IRI<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	        <span style="color:#998;font-style:italic">// It&#39;s an IRI. Print it out, but leave off the namespace part.
</span><span style="color:#998;font-style:italic"></span>		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(((</span>IRI<span style="color:#000;font-weight:bold">)</span>object<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">getLocalName</span><span style="color:#000;font-weight:bold">());</span>
	<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
	        <span style="color:#998;font-style:italic">// It&#39;s a blank node. Just print out the internal identifier.
</span><span style="color:#998;font-style:italic"></span>		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>object<span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<h3 id="example-10-getting-all-property-values-for-a-resource">Example 10: Getting all property values for a resource</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example10PropertyValues.java">Example 10</a>
 shows how we can directly get all values of a property, for a given resource, from the model. To simply retrieve all paintings by van Gogh, we can do this:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Set<span style="color:#000;font-weight:bold">&lt;</span>Value<span style="color:#000;font-weight:bold">&gt;</span> paintings <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>vanGogh<span style="color:#000;font-weight:bold">,</span> EX<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">CREATOR_OF</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">objects</span><span style="color:#000;font-weight:bold">();</span></code></pre></td></tr></table>
</div>
</div>

<p>TIP: Notice that we are suddenly using a new vocabulary constant for our property: <code>EX.CREATOR_OF</code>. It is generally a good idea to create a class containing  constants for your own IRIs when you program with rdf4j: it makes it easier to reuse them and avoids introducing typos (not to mention a lot of hassle if you later decide to rename one of your resources). See <a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/vocabulary/EX.java">the EX vocabulary class</a>
 for an example of how to create your own vocabulary classes.</p>

<p>Once we have selected the values, we can iterate and do something with them. For example, we could try and retrieve further information about each value, like so:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Value <span style="color:#900;font-weight:bold">painting:</span> paintings<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>painting <span style="color:#000;font-weight:bold">instanceof</span> Resource<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#998;font-style:italic">// our value is either an IRI or a blank node. Retrieve its properties and print.
</span><span style="color:#998;font-style:italic"></span>		Model paintingProperties <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">((</span>Resource<span style="color:#000;font-weight:bold">)</span>painting<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>

		<span style="color:#998;font-style:italic">// write the info about this painting to the console in Turtle format
</span><span style="color:#998;font-style:italic"></span>		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;--- information about painting: &#34;</span> <span style="color:#000;font-weight:bold">+</span> painting<span style="color:#000;font-weight:bold">);</span>
		Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">write</span><span style="color:#000;font-weight:bold">(</span>paintingProperties<span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span><span style="color:#000;font-weight:bold">);</span>
		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">();</span>
	<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>NOTE: The <code>Model.filter</code> method does not actually return a <em>new</em> Model object: it returns a filtered view of the original Model. This means that invoking <code>filter</code> is very cheap, because it doesn&rsquo;t have to copy the contents into a new Collection. It also means that any modifications to the original Model object will show up in the filter result, and vice versa.</p>

<h3 id="example-11-retrieving-a-single-property-value">Example 11: Retrieving a single property value</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example11SinglePropertyValue.java">Example 11</a>
 shows how we can directly get a single value of a property, from the model. In this example, we retrieve the first name of each known artist, and print it to the console:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// iterate over all resources that are of type &#39;ex:Artist&#39;
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource artist <span style="color:#000;font-weight:bold">:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> EX<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ARTIST</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">subjects</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// get all RDF triples that denote values for the `foaf:firstName` property 
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// of the current artist
</span><span style="color:#998;font-style:italic"></span>	Model firstNameTriples <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>artist<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>

	<span style="color:#998;font-style:italic">// Get the actual first name by just selecting any property value. If no value 
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// can be found, set the first name to &#39;(unknown)&#39;. 
</span><span style="color:#998;font-style:italic"></span>	String firstName <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">objectString</span><span style="color:#000;font-weight:bold">(</span>firstNameTriples<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">orElse</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;(unknown)&#34;</span><span style="color:#000;font-weight:bold">);</span>

	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>artist <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; has first name &#39;&#34;</span> <span style="color:#000;font-weight:bold">+</span> firstName <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;&#39;&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>In this code example, we use two steps to retrieve the first name for each artist. The first step, on line 5, is that we use <code>Model.filter</code> again. This zooms in to select <em>only</em> the <code>foaf:firstName</code> statements about the current artist (notice that I say statement<strong>s</strong>, plural: there could very well be an artist with more than one first name).</p>

<p>For the second step, the actual selection of a single property value, we use the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/Models.html'>Models</a></code>
 utility. This class provides several useful shortcuts for working with data in a model. In this example, we are using the <code>objectString</code> method. What this method does is retrieve an arbitrary object-value from the supplied model, and return it converted to a String. Since the model we supply only contains <code>foaf:firstName</code> statements about the current artist, we know that the object we get back will be a first name of the current artist.</p>

<p>NOTE: The <code>Models</code> utility methods for selecting single values, such as <code>Models.objectString</code>, return any one <em>arbitrary</em> suitable value: if there is more than one possible object value in the supplied model, it just picks one. There is no guarantee that it will always pick the same value on consecutive calls.</p>

<h2 id="named-graphs-and-contexts">Named Graphs and Contexts</h2>

<p>As we have seen, the RDF data model can be viewed as a graph. Sometimes it is useful to be able to group together subsets of RDF data as separate graphs. For example, you may want to use several files together, but still keep track of which statements come from which file. An rdf4j <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html'>Model</a></code>
 facilitates this by having an optional <em>context</em> parameter for most of it methods. This parameter allows you to identify a <em>named graph</em> in the Model, that is a subset of the complete model. In this section, we will look at some examples of this mechanism in action.</p>

<h3 id="example-12-adding-statements-to-two-named-graphs">Example 12: Adding statements to two named graphs</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/model/Example12BuildModelWithNamedGraphs.java">Example 12</a>
 shows how we can add information to separate named graphs in a single Model, and using that named graph information to retrieve those subsets again:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// We&#39;ll use a ModelBuilder to create two named graphs, one containing data about
</span><span style="color:#998;font-style:italic">// Picasso, the other about Van Gogh.
</span><span style="color:#998;font-style:italic"></span>ModelBuilder builder <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ModelBuilder<span style="color:#000;font-weight:bold">();</span>
builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// In named graph 1, we add info about Picasso
</span><span style="color:#998;font-style:italic"></span>builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">namedGraph</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:namedGraph1&#34;</span><span style="color:#000;font-weight:bold">)</span>
		<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:Picasso&#34;</span><span style="color:#000;font-weight:bold">)</span>
			<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> EX<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ARTIST</span><span style="color:#000;font-weight:bold">)</span>
			<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Pablo&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// In named graph 2, we add info about Van Gogh.
</span><span style="color:#998;font-style:italic"></span>builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">namedGraph</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:namedGraph2&#34;</span><span style="color:#000;font-weight:bold">)</span>
	<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:VanGogh&#34;</span><span style="color:#000;font-weight:bold">)</span>
		<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> EX<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ARTIST</span><span style="color:#000;font-weight:bold">)</span>
		<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">FIRST_NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Vincent&#34;</span><span style="color:#000;font-weight:bold">);</span>


<span style="color:#998;font-style:italic">// We&#39;re done building, create our Model
</span><span style="color:#998;font-style:italic"></span>Model model <span style="color:#000;font-weight:bold">=</span> builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// Each named graph is stored as a separate context in our Model
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource <span style="color:#900;font-weight:bold">context:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">contexts</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Named graph &#34;</span> <span style="color:#000;font-weight:bold">+</span> context <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; contains: &#34;</span><span style="color:#000;font-weight:bold">);</span>

	<span style="color:#998;font-style:italic">// write _only_ the statemements in the current named graph to the console, 
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// in N-Triples format
</span><span style="color:#998;font-style:italic"></span>	Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">write</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> context<span style="color:#000;font-weight:bold">),</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NTRIPLES</span><span style="color:#000;font-weight:bold">);</span>
	System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>On line 7 (and 13, respectively), you can see how <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/ModelBuilder.html'>ModelBuilder</a></code>
 can add statements to a specific named graph using the <code>namedGraph</code> method. Similarly to how the <code>subject</code> method defines what subject each added statement is about (until we set a new subject), <code>namedGraph</code> defines what named graph (or &lsquo;context&rsquo;) each statement is added to, until either a new named graph is set, or the state is reset using the <code>defaultGraph</code> method.</p>

<p>On lines 23 and further, you can see two examples of how this information can be accessed from the resulting Model. You can explicitly retrieve all available contexts (line 23). You can also use a context identifier as a parameter for the <code>filter</code> method, as shown on line 28.</p>

<h2 id="databases-and-sparql-querying">Databases and SPARQL querying</h2>

<p>When RDF models grow larger and more complex, simply keeping all the data in an in-memory collection is no longer an option: large amounts of data will simply not fit, and querying the data will require more sophisticated indexing mechanisms. Moreover, data consistency ensurance mechanisms (transactions, etc) will be necessary. In short: you need a database.</p>

<p>rdf4j has a standardized access API for RDF databases, called the Repository API. This API provides all the things we need from a database: a sophisticated transaction handling mechanism, controls to work efficiently with high data volumes, and, perhaps most importantly: support for querying your data using the <a href="https://www.w3.org/TR/sparql11-query/" target="_blank">SPARQL query language</a>.</p>

<p>In this tutorial, we will show the basics of how to use the Repository API and execute some simple SPARQL queries over your RDF data. Explaining SPARQL or the Repository API in detail is out of scope, however. For more details on how to use the Repository API, have a look at link:/programming[Programming with rdf4j].</p>

<h3 id="example-13-adding-an-rdf-model-to-a-database">Example 13: Adding an RDF Model to a database</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/repository/Example13AddRDFToDatabase.java">Example 13</a>
 shows how we can add our RDF Model to a database:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// First load our RDF file as a Model.
</span><span style="color:#998;font-style:italic"></span>String filename <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;example-data-artists.ttl&#34;</span><span style="color:#000;font-weight:bold">;</span>
InputStream input <span style="color:#000;font-weight:bold">=</span> Example11AddRDFToDatabase<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getResourceAsStream</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/&#34;</span> <span style="color:#000;font-weight:bold">+</span> filename<span style="color:#000;font-weight:bold">);</span>
Model model <span style="color:#000;font-weight:bold">=</span> Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parse</span><span style="color:#000;font-weight:bold">(</span>input<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// Create a new Repository. Here, we choose a database implementation
</span><span style="color:#998;font-style:italic">// that simply stores everything in main memory.
</span><span style="color:#998;font-style:italic"></span>Repository db <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SailRepository<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> MemoryStore<span style="color:#000;font-weight:bold">());</span>
db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">initialize</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// Open a connection to the database
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryConnection conn <span style="color:#000;font-weight:bold">=</span> db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// add the model
</span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">);</span>

	<span style="color:#998;font-style:italic">// let&#39;s check that our data is actually in the database
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryResult<span style="color:#000;font-weight:bold">&lt;</span>Statement<span style="color:#000;font-weight:bold">&gt;</span> result <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getStatements</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
			Statement st <span style="color:#000;font-weight:bold">=</span> result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
			System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;db contains: &#34;</span> <span style="color:#000;font-weight:bold">+</span> st<span style="color:#000;font-weight:bold">);</span>
		<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">finally</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// before our program exits, make sure the database is properly shut down.
</span><span style="color:#998;font-style:italic"></span>	db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">shutDown</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>In this code example (line 8), we simply create a new <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/repository/Repository.html'>Repository</a></code>
 on the fly. We use a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/repository/sail/SailRepository.html'>SailRepository</a></code>
 as the implementing class of the Repository interface, which takes a database implementation (known in rdf4j as a SAIL - &ldquo;Storage and Inferencing Layer&rdquo;) as its constructor. In this case, we simply use an in-memory database implementation.</p>

<p>TIP: rdf4j itself provides several database implementations, and many third parties provide full connectivity for their own RDF database product to work with the rdf4j APIs. For a list of third-party databases, see this <a href="http://rdf4j.org/about/rdf4j-databases/" target="_blank">list of vendors</a> . For more detailed information on how to create and maintain databases, see link:/programming[Programming with rdf4j].</p>

<p>Once we have created and initialized our database, we open a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/repository/RepositoryConnection.html'>RepositoryConnection</a></code>
 to it (line 12). This connection is an <code>AutoCloseable</code> resource that offers all sorts of methods for executing commands on the database: adding and removing data, querying, starting transactions, and so on.</p>

<h3 id="example-14-load-a-file-directly-into-a-database">Example 14: load a file directly into a database</h3>

<p>In link:#code-example-12[code example 12] in the previous section, we first loaded an RDF file into a Model object, and then we added that Model object to our database. This works fine for smaller files of course, but as data gets larger, you really don&rsquo;t want to have to load it completely in main memory before storing it in your database.</p>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples//repository/Example14AddRDFToDatabase.java">Example 14</a>
 shows how we can add our RDF data to a database directly, without first creating a Model:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// Create a new Repository.
</span><span style="color:#998;font-style:italic"></span>Repository db <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SailRepository<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> MemoryStore<span style="color:#000;font-weight:bold">());</span>
db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">initialize</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// Open a connection to the database
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryConnection conn <span style="color:#000;font-weight:bold">=</span> db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
    String filename <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;example-data-artists.ttl&#34;</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>InputStream input <span style="color:#000;font-weight:bold">=</span> 
            Example12AddRDFToDatabase<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getResourceAsStream</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/&#34;</span> <span style="color:#000;font-weight:bold">+</span> filename<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// add the RDF data from the inputstream directly to our database
</span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>input<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span> <span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// let&#39;s check that our data is actually in the database
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryResult<span style="color:#000;font-weight:bold">&lt;</span>Statement<span style="color:#000;font-weight:bold">&gt;</span> result <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getStatements</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
		Statement st <span style="color:#000;font-weight:bold">=</span> result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;db contains: &#34;</span> <span style="color:#000;font-weight:bold">+</span> st<span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">finally</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// before our program exits, make sure the database is properly shut down.
</span><span style="color:#998;font-style:italic"></span>    db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">shutDown</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>The main difference with the previous example is on lines 8-12: we still open an <code>InputStream</code> to access our RDF file, but we now provide that stream <em>directly</em> to the Repository, which then takes care of reading the file and adding the data without the need to keep the fully processed model in main memory.</p>

<h3 id="example-15-sparql-select-queries">Example 15: SPARQL SELECT Queries</h3>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/repository/Example15SimpleSPARQLQuery.java">Example 15</a>
 shows how, once we have added data to our database, we can execute a simple SPARQL SELECT-query:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// Create a new Repository.
</span><span style="color:#998;font-style:italic"></span>Repository db <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SailRepository<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> MemoryStore<span style="color:#000;font-weight:bold">());</span>
db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">initialize</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// Open a connection to the database
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryConnection conn <span style="color:#000;font-weight:bold">=</span> db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
    String filename <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;example-data-artists.ttl&#34;</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>InputStream input <span style="color:#000;font-weight:bold">=</span> 
           Example13SimpleSPARQLQuery<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getResourceAsStream</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/&#34;</span> <span style="color:#000;font-weight:bold">+</span> filename<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// add the RDF data from the inputstream directly to our database
</span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>input<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span> <span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// We do a simple SPARQL SELECT-query that retrieves all resources of 
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// type `ex:Artist`, and their first names.
</span><span style="color:#998;font-style:italic"></span>    String queryString <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;PREFIX ex: &lt;http://example.org/&gt; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;PREFIX foaf: &lt;&#34;</span> <span style="color:#000;font-weight:bold">+</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAMESPACE</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;&gt; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;SELECT ?s ?n \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;WHERE { \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;    ?s a ex:Artist; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;       foaf:firstName ?n .&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;}&#34;</span><span style="color:#000;font-weight:bold">;</span>
    TupleQuery query <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareTupleQuery</span><span style="color:#000;font-weight:bold">(</span>queryString<span style="color:#000;font-weight:bold">);</span> 
    <span style="color:#998;font-style:italic">// A QueryResult is also an AutoCloseable resource, so make sure it gets 
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// closed when done.
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>TupleQueryResult result <span style="color:#000;font-weight:bold">=</span> query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// we just iterate over all solutions in the result...
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	    BindingSet solution <span style="color:#000;font-weight:bold">=</span> result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
	    <span style="color:#998;font-style:italic">// ... and print out the value of the variable bindings 
</span><span style="color:#998;font-style:italic"></span>	    <span style="color:#998;font-style:italic">// for ?s and ?n
</span><span style="color:#998;font-style:italic"></span>	    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;?s = &#34;</span> <span style="color:#000;font-weight:bold">+</span> solution<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;s&#34;</span><span style="color:#000;font-weight:bold">));</span>
	    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;?n = &#34;</span> <span style="color:#000;font-weight:bold">+</span> solution<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;n&#34;</span><span style="color:#000;font-weight:bold">));</span>
	<span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">finally</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// Before our program exits, make sure the database is properly shut down.
</span><span style="color:#998;font-style:italic"></span>    db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">shutDown</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>On lines 16-22, we define our SPARQL query string, and on line 23 we turn this into a prepared <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/Query.html'>Query</a></code>
 object. We are using a SPARQL SELECT-query, which will return a result consisting of <em>tuples</em> of variable-bindings (each tuple containing a binding for each variable in the SELECT-clause). Hence, rdf4j calls the constructed query a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/TupleQuery.html'>TupleQuery</a></code>
, and the result of the query a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/TupleQueryResult.html'>TupleQueryResult</a></code>
. Lines 26-34 is where the actual work gets done: on line 26, the query is evaluated, returning a result object. rdf4j QueryResult objects execute lazily: the actual data is not retrieved from the database until we start iterating over the result (as we do on lines 28-34). On line 29 we grab the next solution from the result, which is a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/BindingSet.html'>BindingSet</a></code>
. You can think about a BindingSet as being similar to a row in a table (the binding names are the columns, the binding values the value for each column in this particular row). We then grab the value of the binding of variable <code>?s</code> (line 32) and <code>?n</code> (line 33) and print them out.</p>

<p>There are a number of variations possible on how you execute a query and process the result. We&rsquo;ll show some of these variations here, and we recommend that you try them out by modifying code example 13 in your own editor and executing the modified code, to see what happens.</p>

<p>One variation is that we can turn the <code>TupleQueryResult</code> iterator into a simple java <code>List</code>, containing the entire query result:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#000;font-weight:bold">&lt;</span>BindingSet<span style="color:#000;font-weight:bold">&gt;</span> result <span style="color:#000;font-weight:bold">=</span> QueryResults<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span>query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">());</span> 
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>BindingSet <span style="color:#900;font-weight:bold">solution:</span> result<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
     System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;?s = &#34;</span> <span style="color:#000;font-weight:bold">+</span> solution<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;s&#34;</span><span style="color:#000;font-weight:bold">));</span>
     System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;?n = &#34;</span> <span style="color:#000;font-weight:bold">+</span> solution<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;n&#34;</span><span style="color:#000;font-weight:bold">));</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>On line 1, we turn the result of the query into a <code>List</code> using the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/QueryResults.html'>QueryResults</a></code>
 utility. This utility reads the result completely and also takes care of closing the result (even in case of errors), so there is no need to use a try-with-resources clause in this variation.</p>

<p>Another variation is that instead of retrieving the query result as an iterator object, we let the query send its result directly to a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/TupleQueryResultHandler.html'>TupleQueryResultHandler</a></code>
. This is a useful way to directly stream a query result to a file on disk. Here, we show how to use this mechanism to write the result to the console in tab-separated-values (TSV) format:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">TupleQueryResultHandler tsvWriter <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SPARQLResultsTSVWriter<span style="color:#000;font-weight:bold">(</span>System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">);</span>
query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">(</span>tsvWriter<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<h3 id="example-16-sparql-construct-queries">Example 16: SPARQL CONSTRUCT Queries</h3>

<p>Another type of SPARQL query is the CONSTRUCT-query: instead of returning the result as a sequence of variable bindings, CONSTRUCT-queries return RDF statements. CONSTRUCT queries are very useful for quickly retrieving data subsets from an RDF database, and for transforming that data.</p>

<p><a href="https://github.com/eclipse/rdf4j-doc/tree/master/examples/src/main/java/org/eclipse/rdf4j/examples/repository/Example16SPARQLConstructQuery.java">Example 16</a>
 shows how we can execute a SPARQL CONSTRUCT query in rdf4j. As you can see, most of the code is quite similar to previous examples:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// Create a new Repository.
</span><span style="color:#998;font-style:italic"></span>Repository db <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SailRepository<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> MemoryStore<span style="color:#000;font-weight:bold">());</span>
db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">initialize</span><span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// Open a connection to the database
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>RepositoryConnection conn <span style="color:#000;font-weight:bold">=</span> db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
    String filename <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;example-data-artists.ttl&#34;</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>InputStream input <span style="color:#000;font-weight:bold">=</span>
	    Example14SPARQLConstructQuery<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getResourceAsStream</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/&#34;</span> <span style="color:#000;font-weight:bold">+</span> filename<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// add the RDF data from the inputstream directly to our database
</span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>input<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span> RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span> <span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// We do a simple SPARQL CONSTRUCT-query that retrieves all statements 
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// about artists, and their first names.
</span><span style="color:#998;font-style:italic"></span>    String queryString <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;PREFIX ex: &lt;http://example.org/&gt; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;PREFIX foaf: &lt;&#34;</span> <span style="color:#000;font-weight:bold">+</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAMESPACE</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;&gt; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;CONSTRUCT \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;WHERE { \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;    ?s a ex:Artist; \n&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;       foaf:firstName ?n .&#34;</span><span style="color:#000;font-weight:bold">;</span>
    queryString <span style="color:#000;font-weight:bold">+=</span> <span style="color:#d14">&#34;}&#34;</span><span style="color:#000;font-weight:bold">;</span>

    GraphQuery query <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareGraphQuery</span><span style="color:#000;font-weight:bold">(</span>queryString<span style="color:#000;font-weight:bold">);</span>

    <span style="color:#998;font-style:italic">// A QueryResult is also an AutoCloseable resource, so make sure it gets
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// closed when done.
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>GraphQueryResult result <span style="color:#000;font-weight:bold">=</span> query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#998;font-style:italic">// we just iterate over all solutions in the result...
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
	    Statement st <span style="color:#000;font-weight:bold">=</span> result<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
	    <span style="color:#998;font-style:italic">// ... and print them out
</span><span style="color:#998;font-style:italic"></span>	    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>st<span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">finally</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// Before our program exits, make sure the database is properly shut down.
</span><span style="color:#998;font-style:italic"></span>    db<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">shutDown</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>On lines 16-22 we create our SPARQL CONSTRUCT-query. The only real difference is line 18, where we use a CONSTRUCT-clause (instead of the SELECT-clause we saw previously). Line 24 turns the query string into a prepared Query object. Since the result of a CONSTRUCT-query is a set of RDF statements (in other words: a graph), rdf4j calls such a query a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/GraphQuery.html'>GraphQuery</a></code>
, and its result a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/query/GraphQueryResult.html'>GraphQueryResult</a></code>
.</p>

<p>On line 28 and further we execute the query and iterate over the result. The main difference with previous examples is that this time, the individual solutions in the result are <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Statement.html'>Statements</a></code>
.</p>

<p>As with SELECT-queries, there are a number of variations on how you execute a CONSTRUCT-query and process the result. We&rsquo;ll show some of these variations here, and we recommend that you try them out by modifying code example 14 in your own editor and executing the modified code, to see what happens.</p>

<p>One variation is that we can turn the <code>GraphQueryResult</code> iterator into a <code>Model</code>, containing the entire query result:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Model result <span style="color:#000;font-weight:bold">=</span> QueryResults<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asModel</span><span style="color:#000;font-weight:bold">(</span>query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">());</span> 
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">st:</span> result<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
     System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>st<span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>In this particular example, we then iterate over this model to print out the Statements, but obviously we can access the information in this Model in the same ways we have already seen in link:#_accessing_a_model[section 5].</p>

<p>Another variation is that instead of retrieving the query result as an iterator object, we let the query send its result directly to a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/rio/RDFHandler.html'>RDFHandler</a></code>
. This is a useful way to directly stream a query result to a file on disk. Here, we show how to use this mechanism to write the result to the console in Turtle format</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">RDFHandler turtleWriter <span style="color:#000;font-weight:bold">=</span> Rio<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createWriter</span><span style="color:#000;font-weight:bold">(</span>RDFFormat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TURTLE</span><span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">);</span>
query<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">evaluate</span><span style="color:#000;font-weight:bold">(</span>turtleWriter<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<h2 id="further-reading">Further reading</h2>

<p>You should now have a basic understanding of the RDF data model, and have a decent grasp on how you can use rdf4j to read, write, create, store, and query RDF data. For more information on how to use rdf4j, we recommend the following sources:</p>

<ul>
<li>link:/programming[Programming with rdf4j] - an extensive guide to using the rdf4j framework from Java, covering basics and more advanced configurations.</li>
<li><a href="http://docs.rdf4j.org/javadoc/latest" target="_blank">rdf4j API JavaDoc</a> - the complete API reference. Pay particular attention to the various <code>util</code> packages scattered throughout the API, these often contain very useful helper classes and utilities.</li>
<li>link:/getting-started[Getting Started with rdf4j, Maven and Eclipse] - a tutorial on how to set up your first rdf4j-based project with the help of Apache Maven and the Eclipse IDE.</li>
</ul>

<p>For more detailed information about RDF, and SPARQL, consult the following sources:</p>

<ul>
<li><p>The <a href="https://www.w3.org/TR/rdf11-primer/" target="_blank">W3C RDF 1.1 Primer</a> introduces the basic concepts of RDF and shows concrete examples of the use of RDF.</p></li>

<li><p>The <a href="https://www.w3.org/TR/sparql11-query/" target="_blank">W3C SPARQL 1.1 Query Language Recommendation</a> is the normative specification of the SPARQL Query Language. It contains a complete overview of all SPARQL operators and capabilities, including many useful examples.</p></li>

<li><p>The <a href="https://www.w3.org/TR/sparql11-update/" target="_blank">W3C SPARQL 1.1 Update Recommendation</a> is the normative specification for SPARQL Update operations. SPARQL Update allows you to insert, modify, delete, copy and move RDF data.</p></li>
</ul>

<p>If you require any further help, you can <a href="http://rdf4j.org/support" target="_blank">contact us to get support</a>. We welcome your feedback.</p>
  
        
      </div>
      <div class="col-md-6  padding-bottom-30 padding-top-10">
        <b>Table of Contents</b>
        <nav id="TableOfContents">
<ul>
<li><a href="#getting-started-with-rdf4j">Getting started with rdf4j</a>
<ul>
<li><a href="#introducing-rdf">Introducing RDF</a>
<ul>
<li><a href="#iris-namespaces-and-prefixed-names">IRIs, namespaces, and prefixed names</a></li>
<li><a href="#creating-and-reusing-iris">Creating and reusing IRIs</a></li>
</ul></li>
<li><a href="#using-rdf4j-to-create-rdf-models">Using rdf4j to create RDF models</a>
<ul>
<li><a href="#example-01-building-a-simple-model">Example 01: building a simple Model</a></li>
<li><a href="#example-02-using-the-modelbuilder">Example 02: using the ModelBuilder</a></li>
</ul></li>
<li><a href="#literal-values-datatypes-and-language-tags">Literal values: datatypes and language tags</a>
<ul>
<li><a href="#example-03-adding-a-date-and-a-number">Example 03: adding a date and a number</a></li>
<li><a href="#example-04-adding-an-artwork-s-title-in-dutch-and-english">Example 04: adding an artwork&rsquo;s title in Dutch and English</a></li>
</ul></li>
<li><a href="#blank-nodes">Blank nodes</a>
<ul>
<li><a href="#example-05-adding-blank-nodes-to-a-model">Example 05: adding blank nodes to a Model</a></li>
</ul></li>
<li><a href="#reading-and-writing-rdf">Reading and Writing RDF</a>
<ul>
<li><a href="#example-06-writing-to-rdf-xml">Example 06: Writing to RDF/XML</a></li>
<li><a href="#example-07-writing-to-turtle-and-other-formats">Example 07: Writing to Turtle and other formats</a></li>
<li><a href="#example-08-reading-a-turtle-rdf-file">Example 08: Reading a Turtle RDF file</a></li>
</ul></li>
<li><a href="#accessing-a-model">Accessing a Model</a>
<ul>
<li><a href="#example-09-filtering-on-a-specific-subject">Example 09: filtering on a specific subject</a></li>
<li><a href="#example-10-getting-all-property-values-for-a-resource">Example 10: Getting all property values for a resource</a></li>
<li><a href="#example-11-retrieving-a-single-property-value">Example 11: Retrieving a single property value</a></li>
</ul></li>
<li><a href="#named-graphs-and-contexts">Named Graphs and Contexts</a>
<ul>
<li><a href="#example-12-adding-statements-to-two-named-graphs">Example 12: Adding statements to two named graphs</a></li>
</ul></li>
<li><a href="#databases-and-sparql-querying">Databases and SPARQL querying</a>
<ul>
<li><a href="#example-13-adding-an-rdf-model-to-a-database">Example 13: Adding an RDF Model to a database</a></li>
<li><a href="#example-14-load-a-file-directly-into-a-database">Example 14: load a file directly into a database</a></li>
<li><a href="#example-15-sparql-select-queries">Example 15: SPARQL SELECT Queries</a></li>
<li><a href="#example-16-sparql-construct-queries">Example 16: SPARQL CONSTRUCT Queries</a></li>
</ul></li>
<li><a href="#further-reading">Further reading</a></li>
</ul></li>
</ul>
</nav>
      </div>
    </div>
    
  </div>
</main>

  
  
<p id="back-to-top">
  <a class="visible-xs" href="#top">Back to the top</a>
</p>
<footer id="solstice-footer">
  <div class="container">
    <div class="row">
      <section class="col-sm-6 hidden-print" id="footer-eclipse-foundation">
        <h2 class="section-title">Eclipse Foundation</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/org/">About Us</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/contact.php">Contact Us</a></li>
          <li><a href="https://www.eclipse.org/donate">Donate</a></li>
          <li><a href="https://www.eclipse.org/org/documents/">Governance</a></li>
          <li><a href="https://www.eclipse.org/artwork/">Logo and Artwork</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/directors.php">Board of Directors</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-legal">
        <h2 class="section-title">Legal</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
          <li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
          <li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
          <li><a href="https://www.eclipse.org/org/documents/edl-v10.php">Eclipse Distribution License</a></li>
          <li><a href="https://www.eclipse.org/legal/">Legal Resources </a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-useful-links">
        <h2 class="section-title">Useful Links</h2>
        <ul class="nav">
          <li><a href="https://github.com/eclipse/rdf4j/issues/">Report a Bug</a></li>
          <li><a href="/documentation/">Documentation</a></li>
          <li><a href="https://github.com/eclipse/rdf4j/blob/master/.github/CONTRIBUTING.md">How to Contribute</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-other">
        <h2 class="section-title">Other</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
          <li><a href="https://www.eclipse.org/projects">Community of Projects</a></li>
          <li><a href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
          <li><a href="https://www.eclipse.org/org/research/">Research@Eclipse</a></li>
          <li><a href="https://status.eclipse.org">Service Status</a></li>
        </ul>
      </section>
      <div class="col-sm-24 margin-top-20">
        <div class="row">
          <div id="copyright" class="col-md-16">
            <p id="copyright-text">Copyright &copy; Eclipse Foundation, Inc. All Rights Reserved.</p>
          </div>
          
        </div>
      </div>
      <a href="#" class="scrollup">Back to the top</a>
    </div>
  </div>
</footer>

<script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/main.min.js"></script>

</body>
</html>

  
</body>
</html>

