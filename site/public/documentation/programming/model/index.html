
<!DOCTYPE html>
<html lang="en">
<head>
  
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>The RDF Model API | The Eclipse Foundation</title>
<meta property="og:title" content="The RDF Model API | The Eclipse Foundation" />
<meta name="twitter:title" content="The RDF Model API | The Eclipse Foundation" />
<meta name="description" content="The RDF Model API The RDF Model API is the core of the rdf4j framework. It provides the basic building blocks for manipulating RDF data in Java. In this chapter, we introduce these basic building blocks and show some examples on how to use them.
RDF Building Blocks: IRIs, literals, blank nodes and statements The core of the RDF4J framework is the RDF Model API (see the Model API Javadoc), defined in package org.">
<meta property="og:description" content="The RDF Model API The RDF Model API is the core of the rdf4j framework. It provides the basic building blocks for manipulating RDF data in Java. In this chapter, we introduce these basic building blocks and show some examples on how to use them.
RDF Building Blocks: IRIs, literals, blank nodes and statements The core of the RDF4J framework is the RDF Model API (see the Model API Javadoc), defined in package org.">
<meta name="twitter:description" content="The RDF Model API The RDF Model API is the core of the rdf4j framework. It provides the basic building blocks for manipulating RDF data in Java. In this chapter, we introduce these basic building …">
<meta name="author" content="Christopher Guindon"/>
<link href='https://rdf4j.eclipse.org/images/favicon.png' rel='icon' type='image/x-icon'/>
<meta property="og:image" content="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" />
<meta name="twitter:image" content="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@EclipseFdn" />
<meta name="twitter:creator" content="@EclipseFdn" />
<meta property="og:url" content="https://rdf4j.eclipse.org/documentation/programming/model/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Eclipse rdf4j" />
<meta name="keywords" content="hugo, solstice, eclipse foundatiou">


<meta name="generator" content="Hugo 0.40.1" />
<link rel="canonical" href="https://rdf4j.eclipse.org/documentation/programming/model/" />
<link rel="alternate" href="https://rdf4j.eclipse.org/index.xml" type="application/rss+xml" title="Eclipse rdf4j">

<link rel="stylesheet" href="https://eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/quicksilver.min.css">
<link rel="stylesheet" href="/css/rdf4j.css">


  
<link href="//fonts.googleapis.com/css?family=Libre+Franklin:400,700,300,600,100" rel="stylesheet" type="text/css"/>

  
</head>
<body>
  
<a class="sr-only" href="#content">Skip to main content</a>
<header class="header-wrapper" id="header-wrapper">
  

<div class="clearfix toolbar-container-wrapper">
  <div class="container">
    <div class="text-right toolbar-row row hidden-print">
      <div class="col-md-24 row-toolbar-col">
        <ul class="list-inline">
          <li><a href="https://accounts.eclipse.org/user/edit" class="" data-tab-destination="tab-profile"><i class="fa fa-edit fa-fw"></i> Edit my account</a></li>
          <li><a class="toolbar-link toolbar-manage-cookies dropdown-toggle"><i class="fa fa-wrench"></i> Manage Cookies</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row" id="header-row">
    <div class="col-sm-5 col-md-4" id="header-left">
      <div class="wrapper-logo-default">
          <a title="Eclipse rdf4j" href="https://rdf4j.eclipse.org/">
            <img width="140" class="logo-eclipse-default img-responsive hidden-xs" src="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" alt="Eclipse rdf4j" />
          </a>
        
      </div>
    </div>
    
    <div class="col-sm-19 col-md-20 reset margin-top-10" id="main-menu-wrapper">
    
      <div class="navbar yamm" id="main-menu">
        <div class="navbar-collapse collapse reset float-right" id="navbar-main-menu">
          <ul class="nav navbar-nav">
            



<li>
  <a class="" href="/news/">
  
  News
  </a>
  
</li>


<li class="dropdown">
  <a href="#" data-toggle="dropdown" class="dropdown-toggle">
    
    
    <span>About</span>
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    
    <li><a href="/about/">Eclipse rdf4j</a> </li>
    
    <li><a href="/databases/">Rdf4j databases</a> </li>
    
    <li><a href="/related/">Related projects</a> </li>
    
  </ul>
  
</li>


<li>
  <a class="" href="/documentation/">
  
  Documentation
  </a>
  
</li>


<li>
  <a class="" href="/download/">
  
  Download
  </a>
  
</li>


<li>
  <a class="" href="/support/">
  
  Support
  </a>
  
</li>





          </ul>
        </div>
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-main-menu">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <div class="wrapper-logo-mobile">
            
              <a class="navbar-brand visible-xs" title="Eclipse rdf4j" href="https://rdf4j.eclipse.org/">
                <img width="140" class="logo-eclipse-default-mobile img-responsive" src="https://rdf4j.eclipse.org/images/rdf4j-logo-orange-114.png" alt="Eclipse rdf4j" />
              </a>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  


</header>

  
<section class="default-breadcrumbs hidden-print" id="breadcrumb">
  <div class="container">
  <h3 class="sr-only">Breadcrumbs</h3>
  <div class="row">
    <div class="col-sm-24">
      <ol class="breadcrumb">
        
      
      
      
      
      
      
      
      <li>
        <a href="https://rdf4j.eclipse.org/">Eclipse rdf4j</a>
      </li>
      
      
      <li>
        <a href="https://rdf4j.eclipse.org/documentation/">Documentation</a>
      </li>
      
      
      <li>
        <a href="https://rdf4j.eclipse.org/documentation/programming/">Programming with rdf4j</a>
      </li>
      
      
      <li class="active">
        <a href="https://rdf4j.eclipse.org/documentation/programming/model/">The RDF Model API</a>
      </li>
      
      </ol>
      
    </div>
  </div>
</section>

  
<main>
  <div class="container">
    
    <div class="row">
      <div class="col-md-18 padding-bottom-30">
        
        
        

<h1 id="the-rdf-model-api">The RDF Model API</h1>

<p>The RDF Model API is the core of the rdf4j framework. It provides the basic building blocks for manipulating RDF data in Java. In this chapter, we introduce these basic building blocks and show some examples on how to use them.</p>

<h1 id="rdf-building-blocks-iris-literals-blank-nodes-and-statements">RDF Building Blocks: IRIs, literals, blank nodes and statements</h1>

<p>The core of the RDF4J framework is the RDF Model API (see the <a href="https://rdf4j.eclipse.org/javadoc/latest/index.html?org/eclipse/rdf4j/model/package-summary.html" target="_blank">Model API Javadoc</a>), defined in package <code>org.eclipse.rdf4j.model</code>. This API defines how the building blocks of RDF (statements, IRIs, blank nodes, literals, and models) are represented.</p>

<p>RDF statements are represented by the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Statement.html'>Statement</a></code>
 interface. Each <code>Statement</code> has a subject, predicate, object and (optionally) a context. Each of these 4 items is a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Value.html'>Value</a></code>
. The <code>Value</code> interface is further specialized into <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Resource.html'>Resource</a></code>
, and <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Literal.html'>Literal</a></code>
. <code>Resource</code> represents any RDF value that is either a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/BNode.html'>BNode</a></code>
 or an <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/IRI.html'>IRI</a></code>
. <code>Literal</code> represents RDF literal values (strings, dates, integer numbers, and so on).</p>

<p>To create new values and statements, you can use a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/ValueFactory.html'>ValueFactory</a></code>
. You can use a default <code>ValueFactory</code> implementation called <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/SimpleValueFactory.html'>SimpleValueFactory</a></code>
:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.eclipse.rdf4j.model.ValueFactory</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.eclipse.rdf4j.model.impl.SimpleValueFactory</span><span style="color:#000;font-weight:bold">;</span>

ValueFactory factory <span style="color:#000;font-weight:bold">=</span> SimpleValueFactory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInstance</span><span style="color:#000;font-weight:bold">();</span></code></pre></td></tr></table>
</div>
</div>

<p>For performance reasons, the <code>SimpleValueFactory</code> provides only basic input validation. The <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/ValidatingValueFactory.html'>ValidatingValueFactory</a></code>
 is stricter, albeit somewhat slower.</p>

<p>You can also obtain a <code>ValueFactory</code> from the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/repository/Repository.html'>Repository</a></code>
 you are working with, and in fact, this is the recommend approach. For more information about this see the <a href="/documentation/programming/repository/">Repository API documentation</a>.</p>

<p>Regardless of how you obtain your <code>ValueFactory</code>, once you have it, you can use it to create new <code>IRI</code>s, <code>Literal</code>s, and <code>Statement</code>s:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">IRI bob <span style="color:#000;font-weight:bold">=</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;http://example.org/bob&#34;</span><span style="color:#000;font-weight:bold">);</span>
IRI name <span style="color:#000;font-weight:bold">=</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;http://example.org/name&#34;</span><span style="color:#000;font-weight:bold">);</span>
Literal bobsName <span style="color:#000;font-weight:bold">=</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Bob&#34;</span><span style="color:#000;font-weight:bold">);</span>
Statement nameStatement <span style="color:#000;font-weight:bold">=</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createStatement</span><span style="color:#000;font-weight:bold">(</span>bob<span style="color:#000;font-weight:bold">,</span> name<span style="color:#000;font-weight:bold">,</span> bobsName<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<p>The Model API also provides pre-defined IRIs for several well-known vocabularies, such as RDF, RDFS, OWL, DC (Dublin Core), FOAF (Friend-of-a-Friend), and more. These constants can all be found in the <code>org.eclipse.rdf4j.model.vocabulary</code> package, and can be quite handy in quick creation of RDF statements (or in querying a <code>Repository</code>, as we shall see later):</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Statement typeStatement <span style="color:#000;font-weight:bold">=</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createStatement</span><span style="color:#000;font-weight:bold">(</span>bob<span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">);</span></code></pre></div>

<h1 id="the-model-interface">The Model interface</h1>

<p>The above interfaces and classes show how we can create the individual building blocks that make up an RDF model. However, an actual collection of RDF data is just that: a collection. In order to deal with collections of RDF statements, we can use the <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html'>org.eclipse.rdf4j.model.Model</a></code>
 interface.</p>

<p><code>Model</code> is an extension of the default Java Collection class <code>java.util.Set&lt;Statement&gt;</code>. This means that you can use a <code>Model</code> like any other Java collection in your code:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// create a new Model to put statements in
</span><span style="color:#998;font-style:italic"></span>Model model <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> LinkedHashModel<span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// add an RDF statement
</span><span style="color:#998;font-style:italic"></span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>typeStatement<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// add another RDF statement by simply providing subject, predicate, and object.
</span><span style="color:#998;font-style:italic"></span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>bob<span style="color:#000;font-weight:bold">,</span> name<span style="color:#000;font-weight:bold">,</span> bobsName<span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// iterate over every statement in the Model
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">statement:</span> model<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	   <span style="color:#000;font-weight:bold">...</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>In addition, however, <code>Model</code> offers a number of useful methods to quickly get subsets of statements and otherwise search/filter your collection of statements. For example, to quickly iterate over all statements that make a resource an instance of the class <code>foaf:Person</code>, you can do:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Statement <span style="color:#900;font-weight:bold">typeStatement:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#998;font-style:italic">// ...
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>Even more convenient is that you can quickly retrieve the building blocks that make up the statements. For example, to immediately iterate over all subject-resources that are of type <code>foaf:Person</code> and then retrieve each person’s name, you can do something like the following:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource <span style="color:#900;font-weight:bold">person:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">subjects</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#998;font-style:italic">// get the name of the person (if it exists)
</span><span style="color:#998;font-style:italic"></span>  Optional<span style="color:#000;font-weight:bold">&lt;</span>Literal<span style="color:#000;font-weight:bold">&gt;</span> name <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">objectLiteral</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>person<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">));</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>The <code>filter()</code> method returns a <code>Model</code> again. However, the <code>Model</code> returned by this method is still backed by the original <code>Model</code>. Thus, changes that you make to this returned <code>Model</code> will automatically be reflected in the original <code>Model</code> as well.</p>

<p>Rdf4j provides two default implementations of the <code>Model</code> interface: <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/LinkedHashModel.html'>org.eclipse.rdf4j.model.impl.LinkedHashModel</a></code>
, and <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/impl/TreeModel.html'>org.eclipse.rdf4j.model.impl.TreeModel</a></code>
. The difference between the two is in their performance for different kinds of lookups and insertion patterns (see their respective javadoc entries for details). These differences are only really noticable when dealing with quite large collections of statements, however.</p>

<h1 id="building-rdf-models-with-the-modelbuilder">Building RDF Models with the ModelBuilder</h1>

<p>Since version 2.1, rdf4j provides a <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/ModelBuilder.html'>ModelBuilder</a></code>
 utility. The <code>ModelBuilder</code> provides a fluent API to quickly and efficiently create RDF models programmatically.</p>

<p>Here’s a simple code example that demonstrates how to quickly create an RDF graph with some FOAF data:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ModelBuilder builder <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ModelBuilder<span style="color:#000;font-weight:bold">();</span>

<span style="color:#998;font-style:italic">// set some namespaces
</span><span style="color:#998;font-style:italic"></span>builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">setNamespace</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NS</span><span style="color:#000;font-weight:bold">);</span>

builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">namedGraph</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:graph1&#34;</span><span style="color:#000;font-weight:bold">)</span>      <span style="color:#998;font-style:italic">// add a new named graph to the model
</span><span style="color:#998;font-style:italic"></span>       <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">subject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:john&#34;</span><span style="color:#000;font-weight:bold">)</span>        <span style="color:#998;font-style:italic">// add  several statements about resource ex:john
</span><span style="color:#998;font-style:italic"></span>	 <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;John&#34;</span><span style="color:#000;font-weight:bold">)</span>  <span style="color:#998;font-style:italic">// add the triple (ex:john, foaf:name &#34;John&#34;) to the named graph
</span><span style="color:#998;font-style:italic"></span>	 <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">AGE</span><span style="color:#000;font-weight:bold">,</span> 42<span style="color:#000;font-weight:bold">)</span>
	 <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">MBOX</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;john@example.org&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// add a triple to the default graph
</span><span style="color:#998;font-style:italic"></span>builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">defaultGraph</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ex:graph1&#34;</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;ex:Graph&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#998;font-style:italic">// return the Model object
</span><span style="color:#998;font-style:italic"></span>Model m <span style="color:#000;font-weight:bold">=</span> builder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span></code></pre></td></tr></table>
</div>
</div>

<p>The <code>ModelBuilder</code> offers several conveniences:</p>

<ul>
<li>you can specify a subject/predicate IRI as a prefixed name string (for example “ex:john”), so you don’t have to use a <code>ValueFactory</code> to create an IRI object first.</li>
<li>you can add a literal object as a <code>String</code>, an <code>int</code>, or several other supported Java primitive types.</li>
<li>the <code>subject()</code> method makes it easier to take a resource-centric view when building an RDF Model.</li>
</ul>

<h1 id="quickly-accessing-data-with-the-models-utility">Quickly accessing data with the Models utility</h1>

<p>The <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/Models.html'>Models</a></code>
 utility class offers a number of useful methods for convenient access and manipulation of data in a <code>Model</code> object. We have already shown some examples of its use in previous sections. For example, to retrieve the value of the <code>foaf:name</code> properties for all resources of type <code>foaf:Person</code>:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource <span style="color:#900;font-weight:bold">person:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">subjects</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#998;font-style:italic">// get the name of the person (if it exists)
</span><span style="color:#998;font-style:italic"></span>  Optional<span style="color:#000;font-weight:bold">&lt;</span>Literal<span style="color:#000;font-weight:bold">&gt;</span> name <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">objectLiteral</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>person<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">));</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>The <code>Models.objectLiteral</code> method retrieves an arbitrary object literal value from the statements in the supplied <code>Model</code>. Since the supplied <code>Model</code> is filtered to only contain the <code>foaf:name</code> statements for the given person, the resulting object literal value is the name value for this person. Note that if the model happens to contain more than one name value for this person, this will just return an arbitrary one.</p>

<p>The <code>Models</code> utility provides variants for retrieving different types of object values: <code>Models.object()</code> retrieves a <code>Value</code>, <code>Models.objectResource()</code> a <code>Resource</code>, <code>Models.objectIRI()</code> an <code>IRI</code>.</p>

<h2 id="property-centric-access">Property-centric access</h2>

<p>To provide quicker access to a property’s value(s), the <code>Models</code> class offers some further shortcuts that bypass the need to first filter the <code>Model</code>. For example, to retrieve the name literal, we can replace the `objectLiteral call from the previous example like so:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource <span style="color:#900;font-weight:bold">person:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">subjects</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#998;font-style:italic">// get the name of the person (if it exists)
</span><span style="color:#998;font-style:italic"></span>  Optional<span style="color:#000;font-weight:bold">&lt;</span>Literal<span style="color:#000;font-weight:bold">&gt;</span> name <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPropertyLiteral</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">,</span> person<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p><code>Models</code> also provides methods that allow retrieving all values, instead of one arbitrary one:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Resource <span style="color:#900;font-weight:bold">person:</span> model<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> RDF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TYPE</span><span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PERSON</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">subjects</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#998;font-style:italic">// get all name-values of the person
</span><span style="color:#998;font-style:italic"></span>  Set<span style="color:#000;font-weight:bold">&lt;</span>Literal<span style="color:#000;font-weight:bold">&gt;</span> names <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPropertyLiterals</span><span style="color:#000;font-weight:bold">(</span>model<span style="color:#000;font-weight:bold">,</span> person<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>For both retrieval types, <code>Models</code> also provides variants that retrieve other value types such as IRIs. The <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/Models.html'>Models</a></code>
 javadoc is worth exploring for a complete overview of all methods.</p>

<p>In addition to retrieving values in a property-centric manner, <code>Models</code> also provides a <code>setProperty</code> method, which can be used to quickly give a resoure’s property a new value. For example:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Literal newName <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;John&#34;</span><span style="color:#000;font-weight:bold">);</span>
Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setProperty</span><span style="color:#000;font-weight:bold">(</span>person<span style="color:#000;font-weight:bold">,</span> FOAF<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">NAME</span><span style="color:#000;font-weight:bold">,</span> newName<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<p>This will remove any existing name-properties for the given person, and set it to the single new value &ldquo;John&rdquo;.</p>

<h1 id="rdf-collections">RDF Collections</h1>

<p>To model closed lists of items, RDF provides a Collection vocabulary . RDF Collections are represented as a list of items using a Lisp-like structure. The list starts with a head resource (typically a blank node), which is connected to the first collection member via the rdf:first relation. The head resource is then connected to the rest of the list via an rdf:rest relation. The last resource in the list is marked using the rdf:nil node.</p>

<p>As an example, a list containing three values, “A”, “B”, and “C” looks like this as an RDF Collection:
<img src="images/rdf-collection.svg" alt="Image" /></p>

<p>Here, the blank node <code>_:n1</code> is the head resource of the list. In this example it is declared an instance of <code>rdf:List</code>, however this is not required for the collection to be considered well-formed. For each collection member, a new node is added (linked to the previous node via the <code>rdf:rest</code> property), and the actual member value is linked to to this node via the <code>rdf:first</code> property. The last member member of the list is marked by the fact that the value of its <code>rdf:rest</code> property is set to <code>rdf:nil</code>.</p>

<p>Working with this kind of structure directly is rather cumbersome. To make life a little easier, rdf4j provides several utilities to convert between Java Collections and RDF Collections.</p>

<h2 id="converting-to-from-java-collections">Converting to/from Java Collections</h2>

<p>As an example, suppose we wish to add the above list of three string literals as a property value for the property <code>ex:favoriteLetters</code> of <code>ex:John</code> .</p>

<p>The <code><a href='https://rdf4j.eclipse.org/javadoc/latest/org/eclipse/rdf4j/model/util/RDFCollections.html'>RDFCollections</a></code>
 utility allows us to do this, as follows:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String ns <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;http://example.org/&#34;</span><span style="color:#000;font-weight:bold">;</span>
ValueFactory vf <span style="color:#000;font-weight:bold">=</span> SimpleValueFactory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInstance</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// IRI for ex:favoriteLetters
</span><span style="color:#998;font-style:italic"></span>IRI favoriteLetters <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span>ns<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;favoriteLetters&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// IRI for ex:John
</span><span style="color:#998;font-style:italic"></span>IRI john <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createIRI</span><span style="color:#000;font-weight:bold">(</span>ns<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;John&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// create a list of letters
</span><span style="color:#998;font-style:italic"></span>List<span style="color:#000;font-weight:bold">&lt;</span>Literal<span style="color:#000;font-weight:bold">&gt;</span> letters <span style="color:#000;font-weight:bold">=</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Literal<span style="color:#000;font-weight:bold">[]</span> <span style="color:#000;font-weight:bold">{</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;A&#34;</span><span style="color:#000;font-weight:bold">),</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;B&#34;</span><span style="color:#000;font-weight:bold">),</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLiteral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;C&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">});</span>
<span style="color:#998;font-style:italic">// create a head resource for our list
</span><span style="color:#998;font-style:italic"></span>Resource head <span style="color:#000;font-weight:bold">=</span> vf<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createBNode</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// convert our list and add it to a newly-created Model
</span><span style="color:#998;font-style:italic"></span>Model aboutJohn <span style="color:#000;font-weight:bold">=</span> RDFCollections<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asRDF</span><span style="color:#000;font-weight:bold">(</span>letters<span style="color:#000;font-weight:bold">,</span> head<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> LinkedHashModel<span style="color:#000;font-weight:bold">());</span>
<span style="color:#998;font-style:italic">// set the ex:favoriteLetters property to link to the head of the list
</span><span style="color:#998;font-style:italic"></span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>john<span style="color:#000;font-weight:bold">,</span> favoriteLetters<span style="color:#000;font-weight:bold">,</span> head<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<p>Of course, we can also convert back:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Model aboutJohn <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">;</span> <span style="color:#998;font-style:italic">// our Model about John
</span><span style="color:#998;font-style:italic">// get the value of the ex:favoriteLetters property
</span><span style="color:#998;font-style:italic"></span>Resource node <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">objectResource</span><span style="color:#000;font-weight:bold">(</span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>john<span style="color:#000;font-weight:bold">,</span> favoriteLetters<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">)).</span><span style="color:#008080">orElse</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// Convert its collection back to an ArrayList of values
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>node <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	 List<span style="color:#000;font-weight:bold">&lt;</span>Value<span style="color:#000;font-weight:bold">&gt;</span> values <span style="color:#000;font-weight:bold">=</span> RDFCollections<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asValues</span><span style="color:#000;font-weight:bold">(</span>aboutJohn<span style="color:#000;font-weight:bold">,</span> node<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> ArrayList<span style="color:#000;font-weight:bold">&lt;</span>Value<span style="color:#000;font-weight:bold">&gt;());</span>
	 <span style="color:#998;font-style:italic">// you may need to cast back to Literal.
</span><span style="color:#998;font-style:italic"></span>	 Literal a <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Literal<span style="color:#000;font-weight:bold">)</span>values<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>0<span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<h2 id="extracting-copying-or-deleting-an-rdf-collection">Extracting, copying, or deleting an RDF Collection</h2>

<p>To extract an RDF Collection from the model which contains it, we can do the following:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Model aboutJohn <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">...;</span> <span style="color:#998;font-style:italic">// our model
</span><span style="color:#998;font-style:italic">// get the value of the ex:favoriteLetters property
</span><span style="color:#998;font-style:italic"></span>Resource node <span style="color:#000;font-weight:bold">=</span> Models<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">objectResource</span><span style="color:#000;font-weight:bold">(</span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>john<span style="color:#000;font-weight:bold">,</span> favoriteLetters<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">)).</span><span style="color:#008080">orElse</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// get the RDF Collection in a separate model
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>node <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	 Model rdfList <span style="color:#000;font-weight:bold">=</span> RDFCollections<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getCollection</span><span style="color:#000;font-weight:bold">(</span>aboutJohn<span style="color:#000;font-weight:bold">,</span> node<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> LinkedHashModel<span style="color:#000;font-weight:bold">());</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></td></tr></table>
</div>
</div>

<p>As you can see, instead of converting the RDF Collection to a Java List of values, we get back another <code>Model</code> object from this, containing a copy of the RDF statements that together form the RDF Collection. This is useful in cases where your original <code>Model</code> contains more data than just the RDF Collection, and you want to isolate the collection.</p>

<p>Once you have this copy of your Collection, you can use it to add it somewhere else, or to remove the collection from your <code>Model</code>:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// remove the collection from our model about John
</span><span style="color:#998;font-style:italic"></span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">removeAll</span><span style="color:#000;font-weight:bold">(</span>rdfList<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// finally remove the triple that linked John to the collection
</span><span style="color:#998;font-style:italic"></span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">remove</span><span style="color:#000;font-weight:bold">(</span>john<span style="color:#000;font-weight:bold">,</span> favoriteLetters<span style="color:#000;font-weight:bold">,</span> node<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>

<p>Actually, deleting can be done more efficiently than this. Rather than first creating a completely new copy of the RDF Collection only to then delete it, we can use a streaming approach instead:</p>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// extract the collection from our model in streaming fashion and remove each triple from the model
</span><span style="color:#998;font-style:italic"></span>RDFCollections<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">extract</span><span style="color:#000;font-weight:bold">(</span>aboutJohn<span style="color:#000;font-weight:bold">,</span> node<span style="color:#000;font-weight:bold">,</span> st <span style="color:#000;font-weight:bold">-&gt;</span> aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">remove</span><span style="color:#000;font-weight:bold">(</span>st<span style="color:#000;font-weight:bold">));</span>
<span style="color:#998;font-style:italic">// remove the statement that linked john to the collection
</span><span style="color:#998;font-style:italic"></span>aboutJohn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">remove</span><span style="color:#000;font-weight:bold">(</span>john<span style="color:#000;font-weight:bold">,</span> favoriteLetters<span style="color:#000;font-weight:bold">,</span> node<span style="color:#000;font-weight:bold">);</span></code></pre></td></tr></table>
</div>
</div>
  
        
      </div>
      <div class="col-md-6  padding-bottom-30 padding-top-10">
        <b>Table of Contents</b>
        <nav id="TableOfContents">
<ul>
<li><a href="#the-rdf-model-api">The RDF Model API</a></li>
<li><a href="#rdf-building-blocks-iris-literals-blank-nodes-and-statements">RDF Building Blocks: IRIs, literals, blank nodes and statements</a></li>
<li><a href="#the-model-interface">The Model interface</a></li>
<li><a href="#building-rdf-models-with-the-modelbuilder">Building RDF Models with the ModelBuilder</a></li>
<li><a href="#quickly-accessing-data-with-the-models-utility">Quickly accessing data with the Models utility</a>
<ul>
<li><a href="#property-centric-access">Property-centric access</a></li>
</ul></li>
<li><a href="#rdf-collections">RDF Collections</a>
<ul>
<li><a href="#converting-to-from-java-collections">Converting to/from Java Collections</a></li>
<li><a href="#extracting-copying-or-deleting-an-rdf-collection">Extracting, copying, or deleting an RDF Collection</a></li>
</ul></li>
</ul>
</nav>
      </div>
    </div>
    
  </div>
</main>

  
  
<p id="back-to-top">
  <a class="visible-xs" href="#top">Back to the top</a>
</p>
<footer id="solstice-footer">
  <div class="container">
    <div class="row">
      <section class="col-sm-6 hidden-print" id="footer-eclipse-foundation">
        <h2 class="section-title">Eclipse Foundation</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/org/">About Us</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/contact.php">Contact Us</a></li>
          <li><a href="https://www.eclipse.org/donate">Donate</a></li>
          <li><a href="https://www.eclipse.org/org/documents/">Governance</a></li>
          <li><a href="https://www.eclipse.org/artwork/">Logo and Artwork</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/directors.php">Board of Directors</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-legal">
        <h2 class="section-title">Legal</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
          <li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
          <li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
          <li><a href="https://www.eclipse.org/org/documents/edl-v10.php">Eclipse Distribution License</a></li>
          <li><a href="https://www.eclipse.org/legal/">Legal Resources </a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-useful-links">
        <h2 class="section-title">Useful Links</h2>
        <ul class="nav">
          <li><a href="https://github.com/eclipse/rdf4j/issues/">Report a Bug</a></li>
          <li><a href="/documentation/">Documentation</a></li>
          <li><a href="https://github.com/eclipse/rdf4j/blob/master/.github/CONTRIBUTING.md">How to Contribute</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-other">
        <h2 class="section-title">Other</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
          <li><a href="https://www.eclipse.org/projects">Community of Projects</a></li>
          <li><a href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
          <li><a href="https://www.eclipse.org/org/research/">Research@Eclipse</a></li>
          <li><a href="https://status.eclipse.org">Service Status</a></li>
        </ul>
      </section>
      <div class="col-sm-24 margin-top-20">
        <div class="row">
          <div id="copyright" class="col-md-16">
            <p id="copyright-text">Copyright &copy; Eclipse Foundation, Inc. All Rights Reserved.</p>
          </div>
          
        </div>
      </div>
      <a href="#" class="scrollup">Back to the top</a>
    </div>
  </div>
</footer>

<script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/main.min.js"></script>

</body>
</html>

  
</body>
</html>

